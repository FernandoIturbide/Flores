try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="52c3eca8-302c-4d1a-b7b6-84214dbeb425",e._sentryDebugIdIdentifier="sentry-dbid-52c3eca8-302c-4d1a-b7b6-84214dbeb425")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9144],{394:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var l=r(91668),s=r(19713),n=r.n(s);r(89112);var a=r(82642);function o(e){let{error:t="Something went wrong!",reset:r,className:s}=e;return(0,l.jsx)("div",{className:(0,a.cn)("flex flex-col",s),children:(0,l.jsxs)("main",{className:"mb-20 flex w-full flex-1 flex-col items-center justify-center px-6 sm:px-4",children:[(0,l.jsx)("h2",{className:"typo-h1 text-center",children:t}),(0,l.jsx)("p",{className:"typo-body mt-3 text-center text-black/45",children:"Please try again later or contact support if the problem persists."}),(0,l.jsxs)("div",{className:"mt-12 flex gap-4 sm:mt-16 md:mt-20",children:[(0,l.jsx)("button",{onClick:()=>{r?r():window.location.reload()},className:"shine-effect typo-body-strong flex h-12 w-36 cursor-pointer items-center justify-center rounded-full bg-black/95 text-white sm:w-40",children:"Try Again"}),(0,l.jsx)(n(),{href:"/",className:"shine-effect typo-body-strong flex h-12 w-36 cursor-pointer items-center justify-center rounded-full border border-black/95 text-black/95 sm:h-14 sm:w-40",children:"Go Home"})]})]})})}},11874:(e,t,r)=>{"use strict";r.d(t,{e:()=>l});let l={CREATOR_STUDIO_BOTTOM:"creator_studio_bottom",DASHBOARD_HOVER_TIP:"dashboard_hover_tip",WITHDRAWAL_POPUP:"withdrawal_popup"}},18120:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,ErrorBoundary:()=>i});var l=r(91668),s=r(97637),n=r(89112),a=r(11546);let o={maxRetries:3,reportToSentry:!0};class i extends n.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){let l=this.options.componentName||"Unknown";if(a.Ay.error("Error Boundary caught error in ".concat(l),e,{componentName:l,errorInfo:t.componentStack,retryCount:this.state.retryCount}),this.options.reportToSentry&&r.e(9146).then(r.bind(r,49146)).then(r=>{let s=null==t?void 0:t.componentStack;if(s&&!e.cause){let t=Error(e.message);t.name="React ErrorBoundary ".concat(e.name),t.stack=s,e.cause=t}r.withScope(t=>{t.setTags({component:l,errorBoundary:!0}),t.setContext("react",{componentStack:s}),r.captureException(e,{mechanism:{handled:!0}})})}).catch(e=>{a.Ay.error("Failed to report error to Sentry",e)}),this.options.onError)try{this.options.onError(e,t)}catch(e){a.Ay.error("Error in custom error handler",e)}this.setState({error:e,errorInfo:t})}render(){let{hasError:e,error:t}=this.state,{children:r,fallback:l,renderError:s}=this.props;return e&&t?s?s(t,this.handleRetry):l||this.renderDefaultError(t):r}constructor(e){super(e),this.handleRetry=()=>{let{maxRetries:e=3}=this.options;if(this.state.retryCount>=e)return void a.Ay.warn("Max retries reached (".concat(e,"). Please refresh the page."));if(a.Ay.info("Error Boundary retry attempt",{retryCount:this.state.retryCount+1,maxRetries:e,componentName:this.options.componentName}),this.options.onRetry)try{this.options.onRetry()}catch(e){a.Ay.error("Error in custom retry handler",e)}this.setState({hasError:!1,error:null,errorInfo:null,retryCount:this.state.retryCount+1})},this.handleRefresh=()=>{window.location.reload()},this.renderDefaultError=e=>(0,l.jsxs)("div",{className:"mx-auto flex min-h-[120px] w-full max-w-[280px] items-center justify-center gap-2 p-2 sm:max-w-sm sm:gap-3 sm:p-4",children:[(0,l.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-[#55644A]/10 sm:h-8 sm:w-8",children:(0,l.jsx)(s.sFm,{className:"h-3 w-3 text-[#55644A] sm:h-4 sm:w-4"})}),(0,l.jsx)("h3",{className:"text-sm font-medium text-[#55644A] sm:text-base",children:"Something went wrong"})]}),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0},this.options={...o,...e}}}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.componentName||e.displayName||e.name||"Component",s=s=>(0,l.jsx)(i,{...t,componentName:r,children:(0,l.jsx)(e,{...s})});return s.displayName="withErrorBoundary(".concat(r,")"),s}},18556:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var l=r(89112),s=r(4499);let n=e=>{let{batchInterval:t=1e3,scene:r}=e,[n,a]=(0,l.useState)(new Set),o=(0,l.useRef)(null),i=(0,l.useCallback)(e=>{a(t=>{let r=new Set(t);return r.add(e),r})},[]);return(0,l.useEffect)(()=>{let e=async()=>{if(n.size>0){let e=Array.from(n);try{a(new Set),await (0,s.VQ)("project/markImpression",{method:"POST",params:{id_list:e,scene:r}})}catch(e){console.error("Failed to report project exposures:",e)}}};return o.current&&clearTimeout(o.current),n.size>0&&(o.current=setTimeout(e,t)),()=>{o.current&&clearTimeout(o.current)}},[n,t,r]),{handleExposure:i,exposedProjectsCount:n.size}}},23751:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l={src:"/_next/static/media/reaction-icon.ae8871bb.png",height:1080,width:1920,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAVFBMVEX2tyPwuyPVvCj/vyhMaXH9yy73xyH2sR/3ziv7xzyflmTFmzP+iS71eDmLvI9Vqcv2yyjSkC3zcRbwVDfYryToqRziph7Vtin/1y/guiX/20HewCsJp7LkAAAAGHRSTlM3qfNYALkiZ/6WybbF4uZxWd6ivt1Zmfs9OYmSAAAACXBIWXMAABYlAAAWJQFJUiTwAAAANElEQVR4nAXBCwJAIBBAwZc+uyWKSHT/e5oheksNOD7VuJ174V2mbzmtjGf0yxyCGOEOuB8nMQHCEk6PBwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5}},31723:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,EnvProvider:()=>o});var l=r(91668),s=r(89112),n=r(66830);let a=(0,s.createContext)({isMobile:!1}),o=e=>{let{children:t,initialEnvInfo:r}=e,[o,i]=(0,s.useState)(r);return(0,s.useEffect)(()=>{i({isMobile:(0,n.Fr)()})},[]),(0,l.jsx)(a.Provider,{value:o,children:t})},i=()=>(0,s.useContext)(a)},31984:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var l=r(91668);r(89112);var s=r(82642);let n=r.p+"static/media/default-loading.56c4e0408d66e80e.svg";function a(e){let{className:t}=e,r="a-liner-gradient";return(0,l.jsxs)("div",{className:(0,s.cn)("flex h-[100dvh] w-full items-center justify-center",t),children:[(0,l.jsx)("style",{children:"\n        @keyframes shimmer {\n          0% { transform: translateX(-80px) skewX(8deg); }\n          100% { transform: translateX(320px) skewX(8deg); }\n        }\n        .shimmer-rect {\n          animation: shimmer 2s infinite;\n        }\n      "}),(0,l.jsxs)("svg",{width:"235",height:"56",viewBox:"0 0 235 56",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[(0,l.jsxs)("defs",{children:[(0,l.jsx)("mask",{id:"mask-".concat(r),children:(0,l.jsx)("image",{href:n,width:"235",height:"56",style:{filter:"brightness(5)"}})}),(0,l.jsxs)("linearGradient",{id:"gradient-".concat(r),x1:"0%",y1:"0%",x2:"100%",y2:"30%",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"transparent"}),(0,l.jsx)("stop",{offset:"10%",stopColor:"rgba(255,255,255,0.3)"}),(0,l.jsx)("stop",{offset:"40%",stopColor:"rgba(255,255,255,1)"}),(0,l.jsx)("stop",{offset:"60%",stopColor:"rgba(255,255,255,1)"}),(0,l.jsx)("stop",{offset:"90%",stopColor:"rgba(255,255,255,0.3)"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"transparent"})]})]}),(0,l.jsx)("image",{href:n,width:"235",height:"56"}),(0,l.jsx)("g",{mask:"url(#mask-".concat(r,")"),style:{mixBlendMode:"screen"},children:(0,l.jsx)("rect",{x:"-80",y:"0",width:"100",height:"56",fill:"url(#gradient-".concat(r,")"),className:"shimmer-rect"})})]})]})}},33662:(e,t,r)=>{"use strict";r.d(t,{N:()=>m,V:()=>o.Vt});var l=r(48002),s=r(89112),n=r(4499),a=r(86288),o=r(90705),i=r(82665),c=r(82243),d=r(46263),u=r(21864),p=r(54623);let m=()=>{let e=(0,l.useRouter)(),t=(0,c.I)(),{checkAuth:r}=(0,p.M)(),[o,m]=(0,s.useState)(!1),{track:x}=(0,i.s)(),{showProjectLimitAlert:h}=(0,a._)();return{remixAction:(0,s.useCallback)(async t=>{let{projectId:l,scene:s="remix",userPrompt:a,presetTemplateId:o,remixLastVersion:i,newTab:c,remixActionData:p,projectVersion:f=2}=t;return r(async()=>{m(!0);try{let t=await (0,n.VQ)("project/remixProject",{method:"POST",params:{project_id:l,content:a,remix_last_version:i,project_version:f}});if(t.data){x("remix_success",{project_id:t.data.project_id,scene:s});let r={enter_from:s};"create"===s&&(r.createWeb="true"),o&&(r.presetTemplateId=o),p&&(r.remixAction=JSON.stringify(p));let l="".concat((0,d.getComOrigin)(),"/editor/").concat(t.data.project_id,"?").concat(new URLSearchParams(r).toString());c?window.open(l,"_blank"):(0,d.isComOrigin)()?e.push(l):window.location.href=l}}catch(e){e instanceof n.fk&&40307===e.code?h({}):(0,u.P)({message:"remix"===s?"Failed to remix this project, please try again later":"Failed to create project, please try again later",type:"error"})}finally{m(!1)}setTimeout(()=>{m(!1)},1e3)},{title:"Want to remix this project?",description:"Log in to customize and make it your own.",cancelText:"Cancel",confirmText:"Log in"})()},[t,e]),isRemixing:o}}},35659:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o,m:()=>i});var l=r(91668),s=r(89112),n=r(49849),a=r(40909),o=function(e){return e.Hover="hover",e.Click="click",e.None="none",e}({});let i=e=>{let{emoji:t,className:r,width:o=20,height:i=20,selected:c=!1,triggerType:d="hover",...u}=e,[p,m]=(0,s.useState)(!1),{getLottieData:x}=(0,a.k)(),[h,f]=(0,s.useState)(!1),j="".concat(null==t?void 0:t.interaction_type,"-").concat(o,"-").concat(i),g=()=>"none"!==d&&("hover"===d?p:"click"===d&&c);return(0,l.jsx)("div",{className:r,...u,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:(0,l.jsxs)("div",{style:{position:"relative",width:o,height:i},children:[g()&&t&&(0,l.jsx)(n.A,{loop:"click"!==d||!c,animationPath:t.lottie,animationData:x(t.lottie),className:"absolute top-0 left-0 h-full w-full",style:{position:"absolute",top:0,left:0,width:o,height:i,opacity:h&&g()?1:0,zIndex:1},onLoad:()=>f(!0)}),(0,l.jsx)("div",{style:{position:"absolute",top:0,left:0,width:o,height:i,opacity:h&&g()?0:1},children:(null==t?void 0:t.icon)?(0,l.jsx)("img",{src:t.icon,alt:(null==t?void 0:t.display_name)||"",width:o,height:i,style:{width:o,height:i}},j):null})]})})}},50879:(e,t,r)=>{"use strict";r.d(t,{default:()=>eO});var l=r(91668),s=r(89112),n=r(4499),a=r(40909),o=r(82665);let i=null;var c=r(53147),d=r(96015),u=r(82642),p=r(97637),m=r(48002),x=r(18556),h=r(43577),f=r(76800),j=r(29224);function g(e){var t,r,n,a,o,i,c;let{skeleton:d,project:m,layout:x,handleClick:g,index:b,onExposure:v}=e,[y,w]=(0,s.useState)(!1),_=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let e=new IntersectionObserver(t=>{t[0].isIntersecting&&!y&&(v&&(null==m?void 0:m.project_id)&&v(m.project_id,b),w(!0),e.disconnect())});return _.current&&e.observe(_.current),()=>e.disconnect()},[null==m?void 0:m.project_id,b,y,v]),d||!m)?(0,l.jsx)(()=>(0,l.jsxs)("div",{ref:_,className:(0,u.cn)("group flex cursor-pointer flex-row gap-3","grid"===x&&"flex-col gap-2","mobile"===x&&"flex-row px-5"),children:[(0,l.jsx)("div",{className:(0,u.cn)("aspect-video h-[100px] flex-shrink-0 animate-pulse overflow-hidden rounded-[12px] bg-black/5","grid"===x&&"aspect-video h-auto")}),(0,l.jsxs)("div",{className:"flex flex-col justify-between gap-2 py-1",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("div",{className:"h-4 animate-pulse rounded bg-black/5"}),(0,l.jsx)("div",{className:"h-3 w-2/3 animate-pulse rounded bg-black/5"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"h-[14px] w-[14px] animate-pulse rounded-full bg-black/5"}),(0,l.jsx)("div",{className:"h-3 w-16 animate-pulse rounded bg-black/5"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"h-3 w-3 animate-pulse rounded bg-black/5"}),(0,l.jsx)("div",{className:"h-3 w-8 animate-pulse rounded bg-black/5"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"h-3 w-3 animate-pulse rounded bg-black/5"}),(0,l.jsx)("div",{className:"h-3 w-6 animate-pulse rounded bg-black/5"})]})]})]})]}),{}):(0,l.jsxs)("div",{ref:_,className:(0,u.cn)("group flex cursor-pointer flex-row gap-3","grid"===x&&"flex-col gap-2","mobile"===x&&"flex-row px-5"),onClick:()=>m&&g(m),children:[(0,l.jsx)("div",{className:(0,u.cn)("aspect-video h-[100px] flex-shrink-0 overflow-hidden rounded-[16px] border border-black/3 bg-black/3","grid"===x&&"aspect-video h-auto"),children:(0,l.jsx)(h.A,{url:null!=(o=null!=(a=null==m?void 0:m.custom_cover_url)?a:null==m?void 0:m.cover_url)?o:"",alt:" ",className:"aspect-video h-full w-full rounded-[16px] object-cover transition-transform duration-300 group-hover:scale-105"})}),(0,l.jsxs)("div",{className:"flex flex-col justify-between gap-2 py-1",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("h3",{className:"typo-body line-clamp-2 [word-break:break-word]",children:null!=(c=null!=(i=null==m?void 0:m.custom_title)?i:null==m?void 0:m.title)?c:"".concat(null==m||null==(t=m.user)?void 0:t.display_name,"'s project")}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("img",{src:(null==m||null==(r=m.user)?void 0:r.photo_url)||j.sj,alt:" ",className:"h-[14px] w-[14px] rounded-full bg-black/5"}),(0,l.jsx)("span",{className:"typo-small text-black/45",children:(null==m||null==(n=m.user)?void 0:n.display_name)||""})]})]}),(0,l.jsxs)("div",{className:"typo-ex-small flex items-center gap-3 text-black/45",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(p.tLq,{className:"h-3 w-3 text-black/45"}),(0,l.jsx)("span",{children:(0,f.ZV)((null==m?void 0:m.view_count)||0)})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(p.Z0O,{className:"h-3 w-3 text-black/45"}),(0,l.jsx)("span",{children:(0,f.ZV)((null==m?void 0:m.comment_count)||0)})]})]})]})]},(null==m?void 0:m.project_id)||b)}function b(e){var t;let{blogList:r,layout:a="sidebar"}=e,i=(0,m.useRouter)(),{track:c}=(0,o.s)(),d=(0,s.useRef)(null),h=(0,s.useRef)(null),{handleExposure:f}=(0,x.v)({scene:"project_detail"}),j=(0,s.useRef)(!1),[b,v]=(0,s.useState)([]),[y,w]=(0,s.useState)(!1),[_,N]=(0,s.useState)(!1),[k,C]=(0,s.useState)(null),[S,E]=(0,s.useState)(0),[A,P]=(0,s.useState)(!0),[R,T]=(0,s.useState)((null==r||null==(t=r[0])?void 0:t.category)||"unknown"),I=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r||0===r.length)return;let t=e?0:S,l=Math.min(t+("grid"===a?6:20),r.length);if(t>=r.length)return void P(!1);let s=r.slice(t,l).map(e=>e.projectId);try{e?w(!0):N(!0);let a=await (0,n.VQ)("project/getBatchProjects",{method:"GET",params:{project_ids:s}});if(a.data){let s=a.data.projects||[],n=r.slice(t,l).map(e=>s.find(t=>t.project_id===e.projectId)).filter(Boolean);e?v(n):v(e=>[...e,...n]),E(l),P(l<r.length),C(null)}}catch(e){C("An error occurred while fetching blog projects")}finally{w(!1),N(!1)}},[r,S,a]);(0,s.useEffect)(()=>{j.current||(I(!0),j.current=!0)},[I]);let M=(0,s.useCallback)(()=>{I(!1)},[I]);(0,s.useEffect)(()=>(d.current&&d.current.disconnect(),d.current=new IntersectionObserver(e=>{let[t]=e;!t.isIntersecting||!A||y||_||k||M()},{rootMargin:"0px 0px 200px 0px",threshold:.1}),h.current&&d.current.observe(h.current),()=>{d.current&&d.current.disconnect()}),[A,y,_,k,M]);let L=(0,s.useCallback)((e,t)=>{let r=b.find(t=>t.project_id===e);r&&c("blog_project_show",{project_url:r.project_url,project_id:r.project_id,index:t+1,tab_name:R,location:"feed"}),f(e)},[b,c,f,R]);return(0,l.jsx)("div",{className:(0,u.cn)("flex flex-shrink-0 flex-col gap-2","sidebar"===a&&"w-[360px] xl:w-[360px] 2xl:w-[480px]","grid"===a&&"w-full","mobile"===a&&"h-full w-full"),children:(0,l.jsxs)("div",{className:(0,u.cn)("thin-scrollbar h-full w-full overflow-y-scroll pr-5","grid"===a&&"pr-0","mobile"===a&&"pr-0 pt-0"),children:[(0,l.jsx)("div",{className:(0,u.cn)("typo-h3 px-2 pb-2 pt-3","grid"===a&&"mt-5","mobile"===a&&"px-6 pt-5"),children:"Discover"}),(0,l.jsx)("div",{className:(0,u.cn)("grid"===a?"xmd:grid-cols-3 grid grid-cols-2 gap-5 pt-2":"flex flex-col gap-3"),children:b.map((e,t)=>(0,l.jsx)(g,{project:e,layout:a,handleClick:e=>{c("blog_project_click",{project_url:e.project_url,project_id:e.project_id,index:t+1,tab_name:R,location:"feed"}),i.push(e.project_url+"?enter_from=app_page_featured")},index:t,onExposure:L},e.project_id))}),A&&("grid"===a?y?null:(0,l.jsx)("div",{className:"mt-5 flex h-8 w-full items-center justify-center",children:(0,l.jsx)("div",{className:"typo-body bg-black/6 hover:bg-black/12 flex h-full w-[160px] cursor-pointer items-center justify-center rounded-full text-center text-black/95",onClick:M,children:_?(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(p.xNY,{className:"h-5 w-5 animate-spin text-black/30"})}):(0,l.jsx)("div",{children:"Show More"})})}):(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("div",{ref:h,className:"h-6 w-full"}),_&&(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(p.xNY,{className:"h-5 w-5 animate-spin text-black/30"})})]})),y&&(0,l.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,l.jsx)(p.xNY,{className:"h-6 w-6 animate-spin text-black/30"})}),k&&(0,l.jsx)("div",{className:"typo-body py-4 text-center text-red-500",children:k}),(0===b.length||!A)&&!y&&!k&&(0,l.jsx)("div",{className:"typo-body py-8 text-center text-black/45",children:"No more"})]})})}var v=r(99726),y=r(43073);let w={projects:[],loading:!1,loadingMore:!1,hasMore:!1,nextCursor:void 0,error:void 0,currentProjectId:void 0},_=(0,y.v)((e,t)=>({...w,actions:{fetchProjects:async(r,l)=>{let s=t(),{projectId:a,isInitialFetch:o,pageSize:i}=r;if(s.currentProjectId!==a||!(s.projects.length>0)||!o){s.currentProjectId!==a?e({...w,currentProjectId:a,loading:!0}):e({loading:o,loadingMore:!o,error:void 0});try{let t=await (0,n.VQ)("project/getRelatedProjects",{method:"GET",params:{project_id:a,page_size:i||20,cursor:o?void 0:s.nextCursor}});if(t.data){let r=(t.data.projects||[]).filter(e=>e.project_id!==a);e(e=>{var l,s;return{projects:o?r:[...e.projects,...r.filter(t=>!e.projects.some(e=>e.project_id===t.project_id))],hasMore:(null==(l=t.data)?void 0:l.page_info.has_more)||!1,nextCursor:null==(s=t.data)?void 0:s.page_info.next_cursor,loading:!1,loadingMore:!1,error:void 0}})}}catch(t){e({loading:!1,loadingMore:!1,error:"Failed to load projects"}),console.error("Project fetch error:",t)}}},loadMore:async(e,r)=>{let l=t();l.loading||l.loadingMore||!l.hasMore||await t().actions.fetchProjects({projectId:e,isInitialFetch:!1},r)},reset:()=>{e(w)},dispose:()=>{e(w)}}}));function N(e){let{projectId:t,layout:r="sidebar",onProjectClick:n}=e,a=(0,m.useRouter)(),{track:i}=(0,o.s)(),d=(0,m.useSearchParams)(),h=(0,s.useRef)(null),f=(0,s.useRef)(null),{handleExposure:j}=(0,x.v)({scene:"project_detail"}),b=(0,s.useRef)(!1),{projects:y,loading:w,loadingMore:N,hasMore:k,error:C,actions:S}=_();(0,s.useEffect)(()=>{b.current||(S.fetchProjects({projectId:t,isInitialFetch:!0,pageSize:"grid"===r?6:20},Object.fromEntries(d.entries())),b.current=!0)},[t]);let E=(0,s.useCallback)(()=>{S.loadMore(t,Object.fromEntries(d.entries()))},[t,S,d]);(0,s.useEffect)(()=>(h.current&&h.current.disconnect(),h.current=new IntersectionObserver(e=>{let[t]=e;!t.isIntersecting||!k||w||N||C||E()},{rootMargin:"0px 0px 200px 0px",threshold:.1}),f.current&&h.current.observe(f.current),()=>{h.current&&h.current.disconnect()}),[k,w,N,C,S]);let A=(0,s.useCallback)((e,t)=>{let r=y.find(t=>t.project_id===e);r&&i("app_page_featured_project_show",{...(0,c.PO)(r),index:t+1,project_views:r.view_count||0,project_comments:r.comment_count||0,enter_from:(0,v.qn)("enter_from")}),j(e)},[y,i,j]);return(0,l.jsx)("div",{className:(0,u.cn)("flex flex-shrink-0 flex-col gap-2","sidebar"===r&&"w-[360px] xl:w-[360px] 2xl:w-[480px]","grid"===r&&"w-full","mobile"===r&&"h-full w-full"),children:(0,l.jsxs)("div",{className:(0,u.cn)("thin-scrollbar h-full w-full overflow-y-scroll pr-5","grid"===r&&"pr-0","mobile"===r&&"pt-0 pr-0"),children:[(0,l.jsx)("div",{className:(0,u.cn)("typo-h3 px-2 pt-3 pb-2 text-black/95","grid"===r&&"mt-5","mobile"===r&&"px-6 pt-5"),children:"Discover"}),(0,l.jsxs)("div",{className:(0,u.cn)("grid"===r?"xmd:grid-cols-3 grid grid-cols-2 gap-5 pt-2":"flex flex-col gap-3"),children:[0===y.length&&Array.from({length:6}).map((e,t)=>(0,l.jsx)(g,{skeleton:!0,layout:r,handleClick:()=>{},index:t},t)),y.map((e,t)=>(0,l.jsx)(g,{project:e,layout:r,handleClick:e=>{i("app_page_featured_project_click",{...(0,c.PO)(e),index:t+1,project_views:e.view_count||0,project_comments:e.comment_count||0,enter_from:d.get("enter_from")||""}),n?n(e):a.push(e.project_url+"?enter_from=app_page_featured")},index:t,onExposure:A},e.project_id))]}),"grid"===r?(0,l.jsx)("div",{className:"mt-5 flex h-8 w-full items-center justify-center",children:(0,l.jsx)("div",{className:"typo-body flex h-full w-[160px] cursor-pointer items-center justify-center rounded-full bg-black/6 text-center text-black/95 hover:bg-black/12",onClick:E,children:N?(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(p.xNY,{className:"h-5 w-5 animate-spin text-black/30"})}):(0,l.jsx)("div",{children:"Show More"})})}):(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsx)("div",{ref:f,className:"h-6 w-full"}),N&&(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(p.xNY,{className:"h-5 w-5 animate-spin text-black/30"})})]}),w&&(0,l.jsx)("div",{className:"flex items-center justify-center py-2",children:(0,l.jsx)(p.xNY,{className:"h-6 w-6 animate-spin text-black/30"})}),C&&(0,l.jsx)("div",{className:"typo-body py-4 text-center text-red-500",children:C}),(0===y.length||!k)&&!w&&!C&&(0,l.jsx)("div",{className:"typo-body py-8 text-center text-black/45",children:"No more"})]})})}var k=r(18200),C=r(81959),S=r(36980),E=r(76126),A=r(54623),P=r(46263),R=r(73145);let T=e=>{let{className:t="",width:r=48,height:s=48}=e;return(0,l.jsx)("svg",{width:r,height:s,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:(0,l.jsx)("path",{d:"M25.7318 6.00034L44.7844 39.0004C45.3368 39.957 45.009 41.1802 44.0524 41.7324C43.7484 41.908 43.4034 42.0004 43.0524 42.0004H4.94727C3.84271 42.0004 2.94727 41.105 2.94727 40.0004C2.94727 39.6492 3.03969 39.3044 3.21523 39.0004L22.2678 6.00034C22.82 5.04374 24.0432 4.716 24.9998 5.26828C25.3038 5.44382 25.5564 5.6963 25.7318 6.00034ZM8.41137 38.0004H39.5882L23.9998 11.0003L8.41137 38.0004ZM21.9998 32.0004H25.9998V36.0004H21.9998V32.0004ZM21.9998 18.0003H25.9998V28.0004H21.9998V18.0003Z",fill:"#B68C37"})})};var I=r(21864);let M={[k.fy.NONE]:"Your project access has been restricted due to policy violations or security risks. If this was a misjudgment, please appeal to restore access.",[k.fy.PENDING]:"Your appeal is under review. We’ll send you a message in Notifications once the result is ready.",[k.fy.RESOLVED]:"Your appeal is under review. We’ll send you a message in Notifications once the result is ready.",[k.fy.REJECTED]:"Your project access has been restricted due to policy violations or security risks."};function L(e){let{isOpen:t,onClose:r,onSubmit:n}=e,[a,o]=(0,s.useState)(""),[i,c]=(0,s.useState)(!1),d=a.trim(),p=d.length>0;if(!t)return null;let m=async()=>{if(p&&!i){c(!0);try{await n(d),o("")}catch(e){console.error("Submit appeal failed:",e)}finally{c(!1)}}},x=(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 p-4",onClick:r,children:(0,l.jsxs)("div",{className:(0,u.cn)("relative w-full max-w-[440px] rounded-2xl bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]","sm:max-w-[512px]"),onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("p",{className:"mb-0.5 text-[20px] font-medium text-black/95",children:"Appeal for Review and Restoration"}),(0,l.jsx)("p",{className:"mb-3 text-sm text-black/65",children:"Please note there is only one appeal review, so kindly provide accurate details."}),(0,l.jsx)("textarea",{value:a,onChange:e=>o(e.target.value),placeholder:"Enter your appeal details here…",className:"h-19 border-black/12 mb-0.5 w-full resize-none rounded-lg border px-3 py-3 text-sm placeholder:text-black/45 focus:border-black/25 focus:outline-none",maxLength:1e3}),(0,l.jsx)("div",{className:"mb-6 flex items-center justify-end text-xs",children:(0,l.jsxs)("span",{className:"text-black/45",children:[a.length,"/",1e3]})}),(0,l.jsxs)("div",{className:"flex w-full items-center justify-end gap-2",children:[(0,l.jsx)("button",{onClick:r,className:"border-black/6 h-9 rounded-[10px] border bg-white px-4 text-sm text-black/95 hover:cursor-pointer hover:bg-white/90",children:"Cancel"}),(0,l.jsx)("button",{onClick:m,disabled:!p||i,className:(0,u.cn)("h-9 rounded-[10px] bg-[#55644A] px-4 text-sm font-medium text-white",p&&!i?"bg-[#55644A] text-white hover:cursor-pointer hover:bg-[#55644A]/90":"bg-[#55644A]/30 text-white hover:cursor-not-allowed"),children:i?"Submitting...":"Submit appeal"})]})]})});return(0,R.createPortal)(x,document.body)}function F(e){let{project:t,className:r,onProjectUpdate:a}=e,[o,i]=(0,s.useState)(!1),c=async e=>{try{if(!t.project_id)throw Error("Project ID not found");await (0,n.VQ)("projectView/submitAppeal",{method:"POST",params:{entityType:"project",entityId:t.project_id,reason:e}}),(0,I.P)({message:"Appeal submitted successfully.",type:"success"}),null==a||a(),i(!1)}catch(e){throw(0,I.P)({message:"Failed to submit appeal",type:"error"}),e}};return t.is_author_self?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,u.cn)("border-black/6 flex aspect-video w-full items-center justify-center rounded-[16px] border bg-gray-50",r),children:(0,l.jsxs)("div",{className:"flex flex-col items-center px-4 text-center",children:[(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)(T,{width:48,height:48})}),(0,l.jsx)("p",{className:"typo-h2 mb-1 text-black/95",children:"Project Unavailable"}),M[t.appeal_status]&&(0,l.jsx)("p",{className:"typo-small max-w-md text-black/45",children:M[t.appeal_status]}),t.appeal_status===k.fy.NONE&&(0,l.jsx)("button",{onClick:()=>i(!0),className:"bg-brand typo-body-strong hover:bg-brand/90 mt-6 h-9 rounded-full px-4 text-white transition-colors hover:cursor-pointer",children:"Submit Appeal"})]})}),(0,l.jsx)(L,{isOpen:o,onClose:()=>i(!1),onSubmit:c})]}):(0,l.jsx)("div",{className:(0,u.cn)("border-black/6 flex aspect-video w-full items-center justify-center rounded-[16px] border bg-gray-50",r),children:(0,l.jsxs)("div",{className:"flex flex-col items-center px-4 text-center",children:[(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)(T,{width:48,height:48})}),(0,l.jsx)("p",{className:"typo-h2 mb-1 text-black/95",children:"Project Unavailable"}),(0,l.jsx)("p",{className:"typo-small max-w-md text-black/45",children:"This project is no longer accessible due to policy or security reasons."})]})})}function D(e){let{project:t,projectUrl:r,className:n,isFullScreen:a,forceFullScreen:i=!1,onFullScreen:c,onProjectUpdate:d}=e,x=(0,s.useRef)(null),{track:h}=(0,o.s)(),f=(0,m.useSearchParams)().get("screen_status"),[g,b]=(0,s.useState)(!1),v=!(0,k.QL)(t);(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&(null==c||c(!1))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[a,c]);let{isLoggedIn:y}=(0,E.J)(),{checkAuth:w}=(0,A.M)();return((0,s.useEffect)(()=>{!t.is_ai_app||y||v||w(async()=>{},{title:"Want to use this AI app?",description:"AI apps consume Credits. Log in to unlock an amazing experience!",cancelText:"Cancel",confirmText:"Log in"})()},[t.is_ai_app,y,v]),v)?(0,l.jsx)(F,{project:t,className:n,onProjectUpdate:d}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:(0,u.cn)("border-black/6 relative flex aspect-video w-full flex-shrink-0 overflow-hidden rounded-[24px] border",a&&"z-60 fixed inset-0 aspect-auto w-auto rounded-none border-none bg-white",n),children:[(0,l.jsx)(S.A,{project:t,ref:x,src:r||void 0,mode:"consumer",className:"flex-1 overflow-hidden transition-all duration-300 ".concat(a?"!m-0 !rounded-none !border-none":""),style:{overscrollBehavior:"none"},loading:"eager",seamless:!0}),a&&(0,l.jsxs)("div",{className:"absolute bottom-4 right-4 z-[60] flex translate-y-0 items-end gap-1.5 shadow-[0_6px_12px_0_rgba(133,124,111,0.05)]",children:[g||i?null:(0,l.jsxs)("div",{className:"border-black/3 bg-body group flex h-9 cursor-pointer items-center rounded-full border px-3.5",children:[(0,l.jsxs)("div",{className:"flex h-full items-center",onClick:e=>{e.stopPropagation(),e.preventDefault(),h("app_watermark_button_click",{project_id:t.project_id,project_url:t.project_url,type:"pc_watermark_button"}),window.open((0,P.getComOrigin)(),"_blank","noopener,noreferrer")},children:[(0,l.jsx)("span",{className:"typo-body mr-1.5 text-black/45",children:(0,l.jsx)("span",{children:"Made By"})}),(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)("img",{src:j.au,alt:"YouWare logo",className:"h-5 w-5"}),(0,l.jsx)("img",{src:C,alt:"YouWare",className:"h-2.5"})]})]}),(0,l.jsx)("div",{className:"mx-2 hidden h-2.5 w-px rounded-full bg-[#D9D9D9] group-hover:block"}),(0,l.jsx)("button",{type:"button","data-close-watermark":!0,onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},onClick:e=>{e.stopPropagation(),e.preventDefault(),b(!0)},className:"hidden cursor-pointer text-black/45 hover:text-black/95 group-hover:block",children:(0,l.jsx)(p.Qks,{className:"h-4 w-4"})})]}),(null===f||"0"===f)&&(0,l.jsx)("button",{onClick:()=>{h("app_page_full_screen_click",{project_id:t.project_id,project_url:t.project_url,type:a?"collapse_full_screen":"expand_full_screen"}),null==c||c(!a)},className:"border-black/3 bg-body flex cursor-pointer items-center justify-center rounded-full border p-2 transition-all duration-300 hover:scale-110",children:(0,l.jsx)(p.a3o,{className:"h-4 w-4"})})]})]})})}var O=r(71617),V=r(61924),z=r(74714),B=r(66176);let H={project:"Why are you reporting this project?"},U=e=>{let{contentId:t,subjectType:r,onClose:a,trackExtra:i}=e,[c,d]=(0,s.useState)([]),[m,x]=(0,s.useState)(null),[h,f]=(0,s.useState)(""),[j,g]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!0),{track:y}=(0,o.s)();(0,s.useEffect)(()=>{(async()=>{v(!0);try{let e=await (0,n.VQ)("report/getReportReasons",{method:"GET",params:{entity_type:r}});e.data&&d(e.data.reasons)}catch(e){(0,I.P)({message:"Get report reasons failed, please try again later",type:"error"})}v(!1)})()},[]);let w=async e=>{let{reason:l,details:s}=e;y("report_submit_click",{...i,report_reason:(null==m?void 0:m.reason)==="other"?h:l}),g(!0);try{(await (0,n.VQ)("report/postReport",{method:"POST",params:{entity_type:r,entity_id:t,reason:l,details:s}})).data&&(a(),(0,I.P)({message:"Thanks for reporting. We'll review this as soon as possible.",type:"success"}))}catch(e){(0,I.P)({message:"Report failed, please try again later",type:"error"})}g(!1)},_=!b&&!j&&m;return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex h-full w-full items-center justify-center bg-black/20",onClick:e=>{j||e.target===e.currentTarget&&a()},children:(0,l.jsxs)("div",{className:"flex w-[512px] max-w-[calc(100vw-32px)] flex-col gap-3 rounded-[30px] bg-white p-6 shadow-[0px_0px_2px_0px_rgba(0,0,0,0.10),0px_16px_32px_-1px_rgba(12,12,13,0.1)]",children:[(0,l.jsx)("h3",{className:"typo-h2 font-bold",children:H[r]}),(0,l.jsx)("div",{className:"flex w-full flex-col gap-1",children:b?(0,l.jsx)(l.Fragment,{children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,l.jsxs)("div",{className:"flex h-8 items-center gap-2",children:[(0,l.jsx)("div",{className:"h-4 w-4 animate-pulse rounded-full bg-gray-200"}),(0,l.jsx)("div",{className:"h-4 flex-1 animate-pulse rounded bg-gray-200"})]},t))}):(0,l.jsxs)(l.Fragment,{children:[c.map(e=>(0,l.jsxs)("div",{className:"flex h-8 cursor-pointer items-center gap-2",onClick:()=>x(e),children:[(0,l.jsx)("div",{className:(0,u.cn)("hover:bg-brand/10 border-black/12 flex h-4 w-4 items-center justify-center rounded-full border border-solid p-[1px] transition-colors",(null==m?void 0:m.reason)===e.reason&&"border-brand"),children:(0,l.jsx)("div",{className:(0,u.cn)("h-1.5 w-1.5 rounded-full bg-transparent",(null==m?void 0:m.reason)===e.reason&&"bg-brand")})}),(0,l.jsx)("div",{className:"typo-body flex-1 pt-0.5",children:e.description})]},e.reason)),(null==m?void 0:m.reason)==="other"&&(0,l.jsx)("input",{type:"text",className:"typo-body border-black/12 h-8 rounded-full border border-solid px-4 text-black/95 placeholder:text-black/30",value:h,onChange:e=>f(e.target.value),placeholder:"Enter reason"})]})}),(0,l.jsxs)("div",{className:"mt-3 flex items-center justify-end gap-2",children:[(0,l.jsx)("button",{className:"border-black/12 typo-body hover:bg-black/6 h-9 w-[75px] cursor-pointer rounded-full border border-solid text-black/95",onClick:a,disabled:j,children:"Cancel"}),(0,l.jsx)("button",{className:(0,u.cn)("bg-brand typo-body-strong flex h-9 w-[134px] cursor-pointer items-center justify-center rounded-full text-white disabled:opacity-50",_&&"hover:bg-brand/85"),onClick:()=>{m&&w({reason:m.reason,details:"other"===m.reason?h:void 0})},disabled:!_,children:j?(0,l.jsx)(p.rbo,{className:"h-4 w-4 animate-spin"}):"Submit Report"})]})]})})};var W=r(90705),Q=r(65313),J=r(23751),Y=r(35659);function q(e){var t,r;let{project:n,onEmojiClick:o}=e,i=(0,s.useMemo)(()=>{var e,t;return null!=(t=null==(e=n.interaction)?void 0:e.count.reduce((e,t)=>e+t.count,0))?t:0},[n.interaction]),{emojis:c}=(0,a.k)(),d=(0,s.useMemo)(()=>{var e;return 32*((null==(e=n.interaction)?void 0:e.count.length)||0)+16+56},[null==(t=n.interaction)?void 0:t.count.length]),p=e=>{var t,r;return(null==(r=n.interaction)||null==(t=r.status.find(t=>t.interaction_type===e))?void 0:t.status)===!0};return(0,l.jsxs)(z.rI,{triggerType:"hover",children:[(0,l.jsx)(z.ty,{children:(0,l.jsxs)("button",{className:"flex h-8 cursor-pointer items-center justify-center gap-1 rounded-full bg-black/[0.03] py-2.5 pr-3.5 pl-3 hover:bg-black/6",children:[(0,l.jsx)(Q.default,{src:J.A,alt:"emoji reaction count",className:"h-3.5 w-6"}),(0,l.jsx)("span",{className:"typo-small text-black/95",children:(0,f.ZV)(i)})]})}),(0,l.jsx)(z.SQ,{autoPosition:!0,estimatedHeight:d,className:"left-1/2 -translate-x-1/2",children:(0,l.jsx)("div",{className:"flex flex-col gap-1",children:null==(r=n.interaction)?void 0:r.count.map(e=>{let t=c.find(t=>t.interaction_type===e.interaction_type);return t?(0,l.jsxs)("div",{className:(0,u.cn)("flex h-8 w-20 cursor-pointer items-center gap-2 rounded-[12px] px-2 py-1.5 transition-colors",p(e.interaction_type)?"typo-body-strong bg-[#FFB31A]/15 text-black/95":"typo-body bg-white/3 text-black/45 hover:bg-black/6"),onClick:t=>{t.stopPropagation(),t.preventDefault(),null==o||o(e.interaction_type)},children:[(0,l.jsx)(Y.m,{emoji:t,className:"h-5 w-5 flex-shrink-0",width:20,height:20,triggerType:Y.Z.Click,selected:p(e.interaction_type)}),(0,l.jsx)("span",{children:(0,f.ZV)(e.count)})]},e.interaction_type):null})})})]})}var Z=r(19713),G=r.n(Z),X=r(84535);let K=e=>{(0,s.useEffect)(()=>{if(!e)return;let t=()=>{setTimeout(()=>{let t=document.activeElement;t&&"IFRAME"===t.tagName&&e()},100)},r=()=>{e()};window.addEventListener("blur",t);let l=document.querySelectorAll("iframe");return l.forEach(e=>{e.addEventListener("focus",r)}),()=>{window.removeEventListener("blur",t),l.forEach(e=>{e.removeEventListener("focus",r)})}},[e])};var $=r(10578);let ee=e=>{var t,r;let{project:n}=e,[a,i]=(0,s.useState)((null==(t=n.community_info)?void 0:t.is_favorited)||!1),[d,u]=(0,s.useState)((null==(r=n.community_info)?void 0:r.favorite_count)||0),[m,x]=(0,s.useState)(!1),h=(0,s.useRef)(null),{userId:j}=(0,E.J)(),{checkAuth:g}=(0,A.M)(),{track:b}=(0,o.s)();(0,s.useEffect)(()=>()=>{h.current&&clearTimeout(h.current)},[]);let y=(0,$.A)(()=>{x(!1),h.current&&(clearTimeout(h.current),h.current=null)});K(m?y:null);let w=(0,s.useCallback)(e=>{x(e),!e&&h.current&&(clearTimeout(h.current),h.current=null)},[]),_=(0,s.useCallback)(async()=>{let e=!a,t=e?d+1:d-1;return b("app_page_save_button_click",{action:a?"false":"true",...(0,c.PO)(n),location:"app_page",count:t,status:j?"success":"need_login",enter_from:(0,v.qn)("enter_from")}),g(async()=>{i(e),u(t<0?0:t);let r=a?"cancel":"add";"add"===r&&j&&(x(!0),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{x(!1),h.current=null},4e3));try{var l;(null==(l=(await (0,X.s)(n.project_id,r)).data)?void 0:l.status)&&j&&"add"===r&&(e=>{try{let t=(()=>{try{let e=localStorage.getItem(W.Hx);return e?JSON.parse(e):[]}catch(e){return[]}})();t.includes(e)||(t.push(e),localStorage.setItem(W.Hx,JSON.stringify(t)))}catch(e){}})(j)}catch(t){console.error("Failed to favorite project:",t),i(a),u(d),x(!1),h.current&&(clearTimeout(h.current),h.current=null),(0,I.P)({message:e?"Couldn't save project. Please check your network and try again.":"Couldn't unsave project. Please check your network and try again.",type:"error"})}},{title:"Want to save this project?",description:"Log in to save it and come back anytime.",cancelText:"Cancel",confirmText:"Log in"})()},[j,a,d,n.project_id,n.project_url,b]);return(0,l.jsxs)(O.AM,{open:m,onOpenChange:w,children:[(0,l.jsx)(O.Wv,{asChild:!0,children:(0,l.jsxs)(O.$n,{tooltip:a?"Saved":"Save",tooltipSide:"top",className:"flex h-8 cursor-pointer items-center justify-center gap-1 rounded-full bg-black/3 pr-3.5 pl-3 hover:bg-black/6",onClick:e=>{e.stopPropagation(),e.preventDefault(),_()},children:[a?(0,l.jsx)(p.H9m,{className:"h-[14px] w-[14px]",style:{color:"rgba(255, 201, 55, 0.95)"}}):(0,l.jsx)(p.YSf,{className:"h-[14px] w-[14px] text-black/95"}),(0,l.jsx)("span",{className:"typo-small text-black/95",children:(0,f.ZV)(d)})]})}),(0,l.jsx)(O.hl,{className:"w-auto translate-x-[-40px] rounded-[10px] p-0 shadow-[0px_16px_48px_1px_rgba(12,12,13,0.1)]",side:"top",align:"center",sideOffset:16,children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1 rounded-full bg-[#2C2C2C] py-1 pr-3 pl-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"flex h-4 w-4 items-center justify-center",children:(0,l.jsx)(p.Jnp,{className:"h-[14.6px] w-[14.6px] text-[#14AE5C]"})}),(0,l.jsx)("span",{className:"typo-body text-white/95",children:"Saved successfully！"})]}),(0,l.jsx)("div",{className:"h-[10px] w-px bg-white/15"}),(0,l.jsx)(G(),{href:"/profile/".concat(j,"?tab=saved"),target:"_blank",className:"typo-body-strong flex h-8 items-center justify-center px-2 text-white/95",children:"View list"})]})})]})};var et=r(33662),er=r(97913);let el=(0,r(11106).tZ)("RemixBtn");function es(e){var t;let{project:r,isMobile:a=!1,disable:i=!1}=e,{remixAction:d,isRemixing:x}=(0,et.N)(),{track:h}=(0,o.s)(),{userId:f,isLoggedIn:j}=(0,E.J)(),{checkAuth:g}=(0,A.M)(),b=(0,m.useRouter)(),[y,w]=(0,s.useState)(!1),[_,N]=(0,s.useState)(!1),[k,C]=(0,s.useState)(""),[S,P]=(0,s.useState)([]),[R,T]=(0,s.useState)(!1),I=(null==(t=r.user)?void 0:t.uid)===f;K(y||_?()=>{w(!1),N(!1)}:null),(0,s.useEffect)(()=>{P([]),T(!1)},[r.project_id]),(0,s.useEffect)(()=>{(async()=>{if(!(S.length>0)){T(!0);try{var e;let t=await (0,n.VQ)("project/getRemixOptions",{method:"GET",params:{project_id:r.project_id,source:"from_scratch_remix"}});(null==(e=t.data)?void 0:e.options)&&P(t.data.options.filter(e=>{var t;return null==(t=e.support_platforms)?void 0:t.includes("web")})||[])}catch(e){el.error("Failed to fetch remix options:",e)}finally{T(!1)}}})()},[r.project_id,S.length]);let M=async(e,t,l)=>{let s={action:e,action_params:t,autoSend:!0,projectId:r.project_id,remixLocation:"app_page",remixType:l};localStorage.setItem("remixAction",JSON.stringify(s)),w(!1),await d({projectId:r.project_id,remixActionData:s})},L=async()=>{var e;return(h("remix_button_click",{origin_project_id:r.project_id,origin_project_url:r.project_url,...(0,c.bD)(r),...(0,c.iI)(r),remix_count:r.remix_count,location:"app_page",access_control:r.allow_remix?"allowed":"not_allowed",status:r.allow_remix?j?"success":"need_login":"not_allow",enter_from:(0,v.qn)("enter_from"),is_owner:(null==(e=r.user)?void 0:e.uid)===f}),r.allow_remix)?a?void d({projectId:r.project_id}):g(async()=>{I?N(!0):w(!0)},{title:"Ready to Remix?",description:"Log in to start remixing this project.",cancelText:"Cancel",confirmText:"Log in"})():void(0,er.S)({title:"Not Supported",description:"Remixing this project is not allowed",confirmText:"Got it",onConfirm:()=>{}})},F=(0,s.useCallback)(e=>{e||(w(!1),N(!1),C(""))},[]),D=()=>{N(!1),b.push("/editor/".concat(r.project_id))},V=()=>{k.trim()&&M("send_prompt",{prompt:k.trim()},"user_input")},z=0===k.trim().length;return a?(0,l.jsx)(O.$n,{className:(0,u.cn)("typo-body flex h-8 cursor-pointer items-center justify-center gap-1 rounded-full pl-3 pr-3.5 disabled:cursor-not-allowed","bg-brand hover:bg-brand/90 text-white"),onClick:I?D:L,disabled:x,children:(0,l.jsx)("span",{children:I?"Edit":"Remix"})}):(0,l.jsxs)(O.AM,{open:y||_,onOpenChange:F,children:[(0,l.jsx)(O.Wv,{asChild:!0,children:(0,l.jsx)(O.$n,{className:(0,u.cn)("typo-body flex h-8 min-w-16 cursor-pointer items-center justify-center gap-1 rounded-full px-2.5 text-[14px] disabled:cursor-not-allowed","bg-brand hover:bg-brand/90 text-white"),onClick:L,disabled:x||i,children:(0,l.jsx)("span",{children:I?"Edit":"Remix"})})}),(0,l.jsxs)(O.hl,{className:(0,u.cn)("border border-black/[0.03] bg-white p-0 shadow-[0px_16px_32px_-1px_rgba(0,0,0,0.1)]",y?"w-[420px] rounded-3xl":"w-[176px] rounded-[20px]"),side:"top",sideOffset:8,children:[_&&(0,l.jsxs)("div",{className:"flex flex-col gap-1 p-2",children:[(0,l.jsxs)("div",{className:(0,u.cn)("group flex min-h-8 w-full cursor-pointer items-center justify-center rounded-[12px] p-3 text-black/65 transition-colors hover:bg-black/[0.03] hover:text-black/95"),onClick:()=>{N(!1),w(!0)},children:[(0,l.jsx)(p.xP3,{className:"h-4 w-4 flex-shrink-0"}),(0,l.jsx)("span",{className:(0,u.cn)("ml-2 flex-1 text-sm font-normal"),children:"Remix"})]}),(0,l.jsxs)("div",{className:(0,u.cn)("group flex min-h-8 w-full cursor-pointer items-center justify-center rounded-[12px] p-3 text-black/65 transition-colors hover:bg-black/[0.03] hover:text-black/95"),onClick:D,children:[(0,l.jsx)(p.r0D,{className:"h-4 w-4 flex-shrink-0"}),(0,l.jsx)("span",{className:(0,u.cn)("ml-2 flex-1 text-sm font-normal"),children:"Edit Original"})]})]}),y&&(0,l.jsxs)(l.Fragment,{children:[S.length>0&&(0,l.jsx)("div",{className:"flex flex-col p-2 pb-0",children:S.map((e,t)=>(0,l.jsxs)("div",{className:(0,u.cn)("group flex min-h-8 w-full cursor-pointer items-center justify-center rounded-full p-3 text-black/65 transition-colors hover:bg-black/[0.03] hover:text-black/95"),onClick:()=>{M(e.action_type,e.action_params,"recommended")},children:[(0,l.jsx)("span",{className:(0,u.cn)("flex-1 text-xs font-normal"),children:e.display_title}),(0,l.jsx)(p.avw,{className:"h-4 w-4 text-[#55644A] opacity-0 group-hover:opacity-100"})]},t))}),(0,l.jsx)("div",{className:"p-2",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 rounded-full border border-black/[0.06] bg-white p-1",children:[(0,l.jsx)("div",{className:"flex-1 p-1 pl-2",children:(0,l.jsx)("input",{value:k,onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&k.trim()&&(e.preventDefault(),V())},placeholder:"Enter your remix requirements...",className:"h-[25px] w-full border-none bg-transparent text-sm outline-none placeholder:text-black/30"})}),(0,l.jsx)(O.$n,{className:(0,u.cn)("flex h-8 min-w-8 items-center justify-center gap-2.5 rounded-full p-2",z?"cursor-not-allowed bg-black/[0.03]":"cursor-pointer bg-[#55644A] hover:bg-[#55644A]/90"),onClick:V,disabled:z||x,children:x?(0,l.jsx)(p.xNY,{className:(0,u.cn)("h-4 w-4 animate-spin",z?"text-black/30":"text-white")}):(0,l.jsx)(p.avw,{className:(0,u.cn)("h-4 w-4",z?"text-black/30":"text-white")})})]})})]})]})]})}function en(e){var t;let{project:r,isMobile:i=!1,handleFullScreen:c}=e,d=(null==(t=r.user)?void 0:t.uid)===W.v1,{interact:m}=(0,a.k)(),{track:x}=(0,o.s)(),{userId:h,isLoggedIn:j}=(0,E.J)(),[g,b]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[_,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(null),{checkAuth:P}=(0,A.M)(),R=!(0,k.QL)(r),T=async()=>P(async()=>{x("app_report_button_click",{project_id:r.project_id,project_url:r.project_url}),w(!0)},{title:"Want to report this project?",description:"Please log in to help keep the community safe.",cancelText:"Cancel",confirmText:"Log in"})(),M=async()=>{let e=async()=>{if(r.visibility!==k.wg.PRIVATE||r.passcode||C)b(!0);else{N(!0);try{let e=await (0,n.VQ)("project/getProjectDetail",{method:"GET",params:{project_id:r.project_id}});e.data&&(N(!1),b(!0),S(e.data))}catch(e){N(!1),(0,I.P)({message:"Network error, please try again later",type:"error"})}}};j?e():P(e,{title:"Log in to Join the Vibe",description:"Join our community to share your favorite projects and enjoy 200 free credits as a welcome gift.",confirmText:"Log in",cancelText:"Continue Sharing",onCancel:e})()};return(0,l.jsxs)("div",{className:(0,u.cn)("flex shrink-0 items-center gap-2",i&&"px-5"),children:[i?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex h-8 items-center justify-center gap-1 rounded-full px-2.5",children:[(0,l.jsx)(p.tLq,{className:"h-[14px] w-[14px] text-black/95"}),(0,l.jsx)("span",{className:"typo-small text-black/95",children:(0,f.ZV)(r.view_count||0)})]}),(0,l.jsxs)("div",{className:"flex h-8 items-center justify-center gap-1 rounded-full px-2.5",children:[(0,l.jsx)(p.xP3,{className:"h-[14px] w-[14px] text-black/95"}),(0,l.jsx)("span",{className:"typo-small text-black/95",children:(0,f.ZV)(r.remix_count||0)})]})]}),!d&&(0,l.jsx)("div",{className:(0,u.cn)("relative",R&&"pointer-events-none opacity-50"),children:(0,l.jsx)(q,{project:r,onEmojiClick:R?void 0:e=>{(e=>{var t,l,s,n;let a=null==(l=r.interaction)||null==(t=l.status.find(t=>t.interaction_type===e))?void 0:t.status;return x("emoji_reaction_click",{action:a?"false":"true",project_id:r.project_id,project_url:r.project_url,emoji:e,location:"app_page",status:j?"success":"need_login",count:((null==(n=r.interaction)||null==(s=n.count.find(t=>t.interaction_type===e))?void 0:s.count)||0)+(a?-1:1),enter_from:(0,v.qn)("enter_from")}),P(async()=>{m(r,e,a?V.f.Cancel:V.f.Add)},{title:"Love this project?",description:"Log in to leave reactions and show some love.",cancelText:"Cancel",confirmText:"Log in"})()})(e)}})}),(0,l.jsx)("div",{className:(0,u.cn)(R&&"pointer-events-none opacity-50"),children:(0,l.jsx)(ee,{project:r},r.project_id)}),i?null:(0,l.jsx)(es,{project:r,isMobile:i,disable:R}),(0,l.jsx)(O.$n,{className:(0,u.cn)("hover:bg-black/6 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full",R&&"hover:bg-black/3 cursor-not-allowed opacity-50"),tooltip:R?void 0:"Share",tooltipSide:"top",onClick:R?void 0:e=>{M()},disabled:_||R,children:_?(0,l.jsx)(p.xNY,{className:"h-[14px] w-[14px] text-black/95"}):(0,l.jsx)(p.d6X,{className:"h-[14px] w-[14px] text-black/95"})}),i?null:(0,l.jsx)("div",{className:(0,u.cn)("relative"),children:(0,l.jsxs)(z.rI,{disabled:R,triggerType:"hover",children:[(0,l.jsx)(z.ty,{className:(0,u.cn)("hover:bg-black/3 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full",R&&"cursor-not-allowed opacity-50"),children:(0,l.jsx)(p.aWm,{className:"h-[14px] w-[14px]",color:"black"})}),(0,l.jsx)(z.SQ,{className:"bottom-10 right-0 w-[148px]",children:(0,l.jsx)(z._2,{icon:p.qGO,label:"Report",onClick:T})})]})}),i?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"bg-black/6 mx-0.5 h-3 w-[1px]"}),(0,l.jsx)(O.$n,{className:(0,u.cn)("hover:bg-black/3 flex h-8 cursor-pointer items-center justify-center gap-1 rounded-full px-2 disabled:cursor-not-allowed",R&&"hover:bg-black/3 cursor-not-allowed opacity-50"),tooltip:R?void 0:"Full screen",tooltipSide:"top",onClick:R?void 0:()=>null==c?void 0:c(!0),disabled:R,children:(0,l.jsx)(p.nHt,{className:"h-[14px] w-[14px] text-black/95"})})]}),i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex-1"}),(0,l.jsx)(es,{project:r,isMobile:i,disable:R})]}):null,g&&(0,l.jsx)(B.A,{project:C||r,onClose:()=>b(!1),location:"app_page"}),y&&(0,l.jsx)(U,{contentId:r.project_id,subjectType:"project",onClose:()=>w(!1),trackExtra:{project_id:r.project_id,project_url:r.project_url}})]})}var ea=r(61432);let eo=(0,ea.createServerReference)("40ba6ab5864d95809b2f03694140a53acf5e209da3",ea.callServer,void 0,ea.findSourceMapURL,"getComments"),ei=(0,ea.createServerReference)("404bf4920a9a60be9be76c49b57718eb56ff5254e2",ea.callServer,void 0,ea.findSourceMapURL,"deleteComment"),ec=(0,ea.createServerReference)("40f515402df0f50290c8c2f592f7a29883afa4be71",ea.callServer,void 0,ea.findSourceMapURL,"createComment");var ed=r(25666);function eu(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120,l=e/t;return l>=.9&&l<=1.1?{width:r,height:r}:l>1.1?{width:Math.round(4*r/3),height:r}:{width:r,height:Math.round(4*r/3)}}let ep={project:null,initialAnchorCommentId:null,comments:[],initialLoading:!1,loadMoreLoading:!1,hasMore:!1,nextCursor:void 0,sendingComment:!1,replyTo:null,totalCount:0,currentHighlightedId:"",newlyCreatedComments:[],anchorComment:null,shouldFocusInput:!1,content:"",images:[],charCount:0,errorMessage:"",MAX_CHAR_COUNT:5e3},em=(0,y.v)((e,t)=>({...ep,actions:{init:(r,l)=>{e({project:r,initialAnchorCommentId:l,currentHighlightedId:l||""}),t().actions.fetchComments(!0,r,l)},fetchComments:async function(){var r,l,s;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,i=(null==a?void 0:a.project_id)||(null==(r=t().project)?void 0:r.project_id);if(!i)return;let c=o||t().initialAnchorCommentId;n||0===t().comments.length?e({initialLoading:!0}):e({loadMoreLoading:!0});try{let r=await eo({project_id:i,order:"asc",cursor:n?"":t().nextCursor||"",page_size:15,anchor_comment_id:c||void 0});if(0===r.code&&r.data){let a=r.data.comments||[],o=(e=>{let t=new Set;return e.filter(e=>!t.has(e.uuid)&&(t.add(e.uuid),!0))})(n?a:[...t().comments,...a]);e({comments:o}),e({totalCount:r.data.total||0,anchorComment:r.data.anchor_comment||null,hasMore:(null==(l=r.data.page_info)?void 0:l.has_more)||!1,nextCursor:null==(s=r.data.page_info)?void 0:s.cursor})}}catch(e){console.error("Failed to fetch comments:",e)}finally{e({initialLoading:!1,loadMoreLoading:!1})}},resetCommentInput:()=>e({content:"",replyTo:null,shouldFocusInput:!1,images:[],charCount:0,errorMessage:""}),setReplyTo:t=>e({replyTo:t}),cancelReply:()=>e({replyTo:null}),setShouldFocusInput:t=>e({shouldFocusInput:t}),deleteComment:async r=>{var l;let s=null==(l=t().project)?void 0:l.project_id;s&&0===(await ei({project_id:s,comment_id:r.uuid})).code&&(e(e=>({comments:e.comments.filter(e=>e.uuid!==r.uuid),newlyCreatedComments:e.newlyCreatedComments.filter(e=>e.uuid!==r.uuid),anchorComment:r.uuid===e.initialAnchorCommentId?null:e.anchorComment,totalCount:Math.max(e.totalCount-1,0)})),r.uuid===t().initialAnchorCommentId&&e({anchorComment:null}))},createComment:async()=>{var r,l;let s=null==(r=t().project)?void 0:r.project_id;if(!s)return;let n=t().content,a=t().images;if(n.trim()||0!==a.length){e({sendingComment:!0});try{let r=await ec({project_id:s,comment_text:n,reply_comment_id:(null==(l=t().replyTo)?void 0:l.uuid)||void 0,image_file_list:t().images.map(e=>({id:e.s3_key,width:e.width,height:e.height}))});if(0===r.code&&r.data){let l=r.data,s=Math.max(t().totalCount+1,0);e(e=>({newlyCreatedComments:[l,...e.newlyCreatedComments],totalCount:s,replyTo:null}))}else throw Error(r.message||"Failed to create comment")}finally{e({sendingComment:!1})}}},setCommentContent:r=>{let l=t().actions.calculateCharCount(r),s=t().MAX_CHAR_COUNT;l<=s?e({content:r,charCount:l,errorMessage:""}):e({errorMessage:"Character limit exceeded. Maximum ".concat(s," characters allowed.")})},uploadImage:async r=>{if(!t().images.some(e=>"uploading"===e.status))try{let{width:t,height:l}=await new Promise((e,t)=>{let l=new Image,s=URL.createObjectURL(r);l.onload=()=>{let{naturalWidth:t,naturalHeight:r}=l;URL.revokeObjectURL(s),e({width:t,height:r})},l.onerror=()=>{URL.revokeObjectURL(s),t(Error("Failed to load image"))},l.src=s});e(e=>({images:[...e.images,{status:"uploading",s3_uri:"",s3_key:"loading",width:t,height:l}]}));let s=await (0,ed.Q)(r,{eventType:"image",isPublic:!0,needUrl:!0});e(e=>({images:e.images.map(e=>"loading"===e.s3_key?{...e,status:"ready",s3_uri:s.file_url||"",s3_key:s.file_id}:e)}))}catch(t){console.error("Error uploading image:",t),e(e=>({images:e.images.filter(e=>"loading"!==e.s3_key)}))}},deleteImage:t=>{e(e=>({images:e.images.filter(e=>e.s3_key!==t.s3_key)}))},setCurrentHighlightedId:t=>e({currentHighlightedId:t}),calculateCharCount:e=>{let t=0;for(let r=0;r<e.length;r++){let l=e.charCodeAt(r);l>=19968&&l<=40959||l>=12352&&l<=12447||l>=12448&&l<=12543||l>=44032&&l<=55215||l>=126976&&l<=129535?t+=2:t+=1}return t},dispose:()=>{e({...ep})}}}));function ex(e){let{className:t,noArrow:r}=e,{totalCount:s}=em();return(0,l.jsxs)("h3",{className:(0,u.cn)("bg-body typo-body-strong sticky top-0 z-10 mt-5 flex flex-row items-center justify-start gap-1.5 p-3 text-black/95",t),children:[(0,l.jsx)("span",{children:1===s?"1 Comment":"".concat(s," Comments")}),s>0&&!r&&(0,l.jsx)(p.vuo,{className:"h-4 w-4 animate-bounce"})]})}var eh=r(11546),ef=r(81446);function ej(e){let{src:t,alt:r="",isOpen:n,onClose:a}=e;if((0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return n?(document.addEventListener("keydown",e),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[n,a]),!n)return null;let o=(0,l.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(30px)"},onClick:a,children:[(0,l.jsx)("div",{className:"relative max-h-[90vh] max-w-[90vw] overflow-hidden",onClick:e=>e.stopPropagation(),children:(0,l.jsx)("img",{src:t,alt:r,className:"h-auto max-h-[90vh] w-auto max-w-[90vw] object-contain",onClick:a,draggable:!1})}),(0,l.jsx)("div",{className:"absolute top-6 right-12 z-10 flex h-8 w-8 cursor-pointer items-center justify-center overflow-visible rounded-[10px] bg-black/30",onClick:a,children:(0,l.jsx)(p.Qks,{className:"h-4 w-4 text-white"})})]});return(0,R.createPortal)(o,document.body)}let eg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.floor(Date.now()/1e3),r=t-e;return r<60?"".concat(r,"s ago"):r<3600?"".concat(Math.floor(r/60),"m ago"):r<86400?"".concat(Math.floor(r/3600),"h ago"):"".concat(Math.floor(r/86400),"d ago")};function eb(e){var t;let{comment:r,currentUserId:n,projectAuthorId:a,onReply:o,onDelete:i,isHighlighted:c=!1}=e,d=r.user.uid===n,m=r.user.uid===a,x=(0,s.useRef)(null),f=(0,s.useRef)(null),[g,b]=(0,s.useState)(!1),[v,y]=(0,s.useState)(""),[w,_]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),C=(0,s.useMemo)(()=>eg(r.create_time),[r.create_time]),S=()=>{if(f.current){let e=parseInt(window.getComputedStyle(f.current).lineHeight);k(f.current.scrollHeight>8*e)}};return(0,s.useMemo)(()=>{setTimeout(S,0)},[r.comment]),(0,l.jsxs)("div",{ref:x,className:(0,u.cn)("rounded-xl p-2",c&&"bg-[#5581340F]"),children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsxs)("div",{className:"group relative mt-0.5 h-[30px] w-[30px] shrink-0 cursor-pointer rounded-full",onClick:()=>window.open("/profile/".concat(r.user.uid),"_blank"),children:[(0,l.jsx)("img",{src:r.user.photo_url||j.sj,alt:"",className:"h-full w-full rounded-full"}),(0,l.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/6 opacity-0 transition-opacity duration-200 group-hover:opacity-100"}),(0,l.jsx)(ef.A,{className:"absolute -right-0.5 -bottom-px border-white",userBadge:null==(t=r.user.badge)?void 0:t.type,size:"12",tooltipSide:"right"})]}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-1",children:[(0,l.jsx)("span",{className:"typo-small w-fit cursor-pointer text-black/30 hover:text-black/65",onClick:()=>window.open("/profile/".concat(r.user.uid),"_blank"),children:r.user.display_name}),m&&(0,l.jsx)("span",{className:"h-4 rounded-full bg-[#EDEEF0] px-[5px] text-[10px] leading-[16px] font-bold text-[#475569]",children:"Creator"})]}),(0,l.jsxs)("div",{className:"typo-body mt-[2px] break-words text-black/95",children:[r.reply_user&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-black/65",children:"Reply to "}),(0,l.jsx)("button",{className:"cursor-pointer font-bold text-black/95 hover:underline",onClick:()=>window.open("/profile/".concat(r.reply_user.uid),"_blank"),children:r.reply_user.display_name}),(0,l.jsx)("span",{className:"text-black/65",children:": "})]}),(0,l.jsx)("div",{ref:f,className:(0,u.cn)("typo-body w-full max-w-none [word-break:break-word] whitespace-pre-line",r.reply_user&&"inline",!w&&N&&"line-clamp-8 overflow-hidden"),children:(e=>{let t=/(https?:\/\/[^\s]+)/g;return e.split(t).map((e,r)=>t.test(e)?(0,l.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"pointer-events-auto cursor-pointer break-all text-[#0077FF] hover:underline",children:e},r):e)})(r.comment)}),N&&(0,l.jsxs)("button",{onClick:()=>{_(!w)},className:"typo-small mt-2 flex cursor-pointer items-center gap-1 rounded-full bg-black/3 p-1 pr-1.5 pl-2 text-black/65 transition-colors hover:bg-black/5",children:[(0,l.jsx)("span",{children:w?"Collapse":"Show all"}),(0,l.jsx)(p.eQr,{className:(0,u.cn)("h-3 w-3 transition-transform duration-200",w&&"rotate-180")})]})]}),r.image_list&&r.image_list.length>0&&(0,l.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:r.image_list.map((e,t)=>{let{width:r,height:s}=e.width&&e.height?eu(e.width,e.height):{width:120,height:120};return(0,l.jsx)("div",{className:"relative",onClick:()=>{y(e.origin_url||e.image_url||""),b(!0)},style:{width:r,height:s},children:(0,l.jsx)(h.A,{url:e.image_url||e.origin_url||"",alt:"",className:"cursor-pointer rounded-[8px] bg-black/5 object-cover transition-opacity hover:opacity-90"})},e.image_url||e.origin_url||t)})}),(0,l.jsxs)("div",{className:"typo-small mt-[7.5px] flex items-center gap-2 text-black/30",children:[(0,l.jsx)("span",{children:C}),(0,l.jsx)("div",{className:"h-2 w-px bg-black/6"}),(0,l.jsx)("span",{className:"cursor-pointer px-1.5 py-1 hover:text-black/65",onClick:()=>o(r),children:"Reply"})]})]}),(d||n===a)&&(0,l.jsxs)(z.rI,{triggerType:"click",children:[(0,l.jsx)(z.ty,{children:(0,l.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full hover:bg-black/3",children:(0,l.jsx)(p.BlR,{className:"h-4 w-4 cursor-pointer text-black/95"})})}),(0,l.jsx)(z.SQ,{className:(0,u.cn)("top-8 right-0 w-28"),children:(0,l.jsx)(z._2,{icon:p.WFf,label:"Delete",onClick:()=>i(r)})})]})]}),(0,l.jsx)(ej,{src:v,isOpen:g,onClose:()=>b(!1)})]})}let ev=function(e){let{initialAnchorCommentId:t,project:r,commentInputHeight:n,className:a,innerClassName:i}=e,{comments:c,initialLoading:d,loadMoreLoading:x,hasMore:h,totalCount:f,newlyCreatedComments:j,anchorComment:g,currentHighlightedId:b,sendingComment:v,actions:y}=em(),{userId:w}=(0,E.J)(),{track:_}=(0,o.s)(),N=(0,m.useSearchParams)(),k=(0,m.usePathname)(),C=(0,s.useRef)(!1),S=(0,s.useRef)(null),P=(0,s.useRef)(null),R=(0,s.useRef)(null),T=(0,s.useRef)(null),{checkAuth:I}=(0,A.M)(),M=e=>I(async()=>{y.setReplyTo(e),y.setShouldFocusInput(!0)},{title:"Want to leave a comment?",description:"Log in to join the conversation and share your thoughts.",cancelText:"Cancel",confirmText:"Log in"})(),L=async e=>{(0,er.S)({title:"Delete this comment?",description:"This action can't be undone.",confirmText:"Delete",cancelText:"Cancel",onCancel:()=>{},onConfirm:async()=>{try{var t;await y.deleteComment(e),_("app_comment_delete",{project_id:r.project_id,project_url:r.project_url,comment_detail:e.comment,comments_num:f-1,is_self_comment:e.user.uid===w,is_creator:(null==(t=r.user)?void 0:t.uid)===w})}catch(e){eh.vF.error("Failed to delete comment:",e)}},confirmClassName:"bg-[#D42727]! hover:bg-[#D42727]/85!"})};(0,s.useEffect)(()=>{if(S.current&&S.current.disconnect(),!P.current||!h||d||x)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&!d&&!x&&h&&y.fetchComments()},{root:null,rootMargin:"300px",threshold:.2});return e.observe(P.current),S.current=e,()=>{S.current&&S.current.disconnect()}},[d,x,h,y.fetchComments]),(0,s.useEffect)(()=>{C.current||(y.init(r,t),C.current=!0)},[]),(0,s.useEffect)(()=>()=>{R.current&&clearTimeout(R.current)},[]),(0,s.useEffect)(()=>{!d&&b&&b&&(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{y.setCurrentHighlightedId("");let e=new URLSearchParams(N.toString());e.delete("comment_id");let t="".concat(k).concat(e.toString()?"?".concat(e.toString()):"");window.history.replaceState({},"",t)},3e3))},[d,b]);let F=(0,s.useRef)(v);return(0,s.useEffect)(()=>{F.current&&!v&&T.current&&T.current.scrollIntoView({behavior:"smooth",block:"start"}),F.current=v},[v]),(0,l.jsx)("div",{className:(0,u.cn)("flex min-h-[500px] flex-col",a),children:(0,l.jsxs)("div",{ref:T,className:(0,u.cn)("h-full w-full p-2",i),children:[d&&0===c.length&&(0,l.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsx)(p.xNY,{className:"h-6 w-6 animate-spin text-black/30"})})}),!d&&0===c.length&&0===j.length&&(0,l.jsxs)("div",{className:"mt-40 flex h-full flex-col items-center justify-center px-[60px] text-black/65",children:[(0,l.jsx)(p.My6,{className:"mb-3 h-8 w-8 text-black/12"}),(0,l.jsx)("p",{className:"mb-1 text-sm font-bold text-black/95",children:"Be the first to comment"}),(0,l.jsx)("p",{className:"text-center text-xs text-black/65",children:"Add your voice and let the creator hear from you."})]}),(c.length>0||j.length>0||t)&&(0,l.jsxs)(l.Fragment,{children:[(()=>{let e=new Set(j.map(e=>e.uuid)),t=null==g?void 0:g.uuid,r=c.filter(r=>!e.has(r.uuid)&&r.uuid!==t);return[...[...j].sort((e,t)=>new Date(t.create_time).getTime()-new Date(e.create_time).getTime()),...g?[g]:[],...r]})().map((e,t)=>{var s;return(0,l.jsx)(eb,{comment:e,currentUserId:w||"",projectAuthorId:(null==(s=r.user)?void 0:s.uid)||"",onReply:M,onDelete:L,isHighlighted:e.uuid===b},t)}),h&&(0,l.jsx)("div",{ref:P,className:"flex items-center justify-center py-4",children:x&&(0,l.jsx)(p.xNY,{className:"h-6 w-6 animate-spin text-black/30"})}),(0,l.jsx)("div",{className:"",style:{height:n}})]})]})})},ey=()=>{try{let e=localStorage.getItem(W.V2);return!!e&&JSON.parse(e)}catch(e){return!1}},ew=e=>{let{project:t,isFullScreen:r,style:n="dark"}=e,[a,o]=(0,s.useState)(!1),{isLoggedIn:i}=(0,E.J)();(0,s.useEffect)(()=>{if(!ey()&&i){o(!0);try{ey()||localStorage.setItem(W.V2,JSON.stringify(!0))}catch(e){}}},[i]);let c=(0,$.A)(()=>o(!1));K(a?c:null);let d=e=>(0,l.jsxs)("div",{className:"flex flex-col items-end justify-center gap-3 rounded-[10px] border border-black/3 bg-[#2C2C2C] p-3 ".concat(e?"fixed right-2 bottom-2 z-100":""),children:[(0,l.jsx)("div",{className:"flex items-stretch gap-2",children:(0,l.jsx)("span",{className:"flex-1 text-[14px] text-white/95",children:"AI APP consume credits from your balance during use."})}),(0,l.jsx)("span",{className:"cursor-pointer text-[14px] font-bold text-white/95",onClick:()=>{o(!1)},children:"Got it"})]});return r?a?d(!0):null:(0,l.jsxs)(O.AM,{open:a,children:[(0,l.jsx)(O.Wv,{asChild:!0,children:(0,l.jsx)("div",{className:(0,u.cn)("flex h-[18px] flex-none items-center justify-center rounded-full py-[1px] pr-1.5 pl-[5px]","dark"===n?"bg-[#55644A]":"border border-black/6 bg-white"),children:(0,l.jsx)("span",{className:(0,u.cn)("typo-ex-small-emphasis","dark"===n?"text-white":"text-black/95"),children:"AI App"})})}),(0,l.jsx)(O.hl,{className:"w-auto max-w-[350px] rounded-[10px] p-0 shadow-[0px_16px_32px_-1px_rgba(12,12,13,0.1)] outline-none focus:outline-none",side:"top",align:"center",sideOffset:26,children:d(!1)})]})};function e_(e){var t,r,s,n,a,i,c;let{project:d,isFullScreen:u=!1,isMobile:x=!1}=e,h=(0,m.useRouter)(),{track:g}=(0,o.s)(),b=()=>{var e;(null==(e=d.user)?void 0:e.uid)&&(g("app_creator_info_click",{project_id:d.project_id,project_url:d.project_url,enter_from:(0,v.qn)("enter_from")}),h.push("/profile/".concat(d.user.uid)))};return(0,l.jsxs)("div",{className:"flex flex-row justify-start gap-2",children:[(0,l.jsxs)("div",{className:"relative h-10 w-10 shrink-0",children:[(0,l.jsx)("img",{src:(null==(t=d.user)?void 0:t.photo_url)||j.sj,className:"h-full w-full cursor-pointer rounded-full bg-gray-200",onClick:b,alt:" "}),(0,l.jsx)(ef.A,{className:"absolute -right-px -bottom-px border-white",userBadge:null==(s=d.user)||null==(r=s.badge)?void 0:r.type,size:"12",tooltipSide:"right"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("div",{className:"typo-h3 text-black/95",children:null!=(c=null!=(i=d.custom_title)?i:d.title)?c:"".concat(null==(n=d.user)?void 0:n.display_name,"'s project")}),(0,l.jsxs)("div",{className:"typo-body flex flex-row items-center gap-1 text-black/45",children:[(0,l.jsx)("div",{className:"cursor-pointer",onClick:b,children:null==(a=d.user)?void 0:a.display_name}),x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mx-1 h-2 w-px bg-black/12"}),(0,l.jsxs)("div",{className:"flex h-8 items-center justify-center gap-1",children:[(0,l.jsx)(p.tLq,{className:"h-[14px] w-[14px]"}),(0,l.jsx)("span",{children:(0,f.ZV)(d.view_count||0)})]}),(0,l.jsxs)("div",{className:"flex h-8 items-center justify-center gap-1 rounded-[10px] px-2.5",children:[(0,l.jsx)(p.xP3,{className:"h-[14px] w-[14px]"}),(0,l.jsx)("span",{children:(0,f.ZV)(d.remix_count||0)})]})]})]})]}),d.is_ai_app&&(0,l.jsx)(ew,{project:d,isFullScreen:u,style:x?"light":"dark"})]})}let eN=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{maxCount:t=1,maxSize:r=5242880,currentCount:l=0,onUpload:s}=e;if(l>=t)return void(0,I.P)({message:"Maximum ".concat(t," image").concat(t>1?"s":""," allowed"),type:"error"});let n=document.createElement("input");n.type="file",n.accept="image/png, image/jpeg, image/gif, image/webp, image/jpg",n.multiple=!1,n.onchange=async e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];if(l){if(l.size>r){(0,I.P)({message:"Image size must be less than ".concat(Math.floor(r/1048576),"MB"),type:"error"}),n.value="";return}if(!["image/png","image/jpeg","image/gif","image/webp","image/jpg"].includes(l.type)){(0,I.P)({message:"Please select a valid image file (PNG, JPEG, GIF, or WebP)",type:"error"}),n.value="";return}if(s)try{await s(l)}catch(e){console.error("Image upload failed:",e),(0,I.P)({message:"Failed to upload image. Please try again.",type:"error"})}n.value=""}},n.click()};function ek(e){var t,r;let{replyTo:n,onCancel:a,disable:i}=e,[c,d]=(0,s.useState)(!1),m=(0,s.useRef)(null),{content:x,charCount:h,sendingComment:f,errorMessage:j,MAX_CHAR_COUNT:g,images:b,actions:y,project:w,totalCount:_,comments:N}=em(),{checkAuth:k}=(0,A.M)(),{track:C}=(0,o.s)(),S=N.length>0?"Drop a comment, vibe the moment.":"Comment box lonely, needs your voice only.",E=async()=>{try{if(!x.trim()&&0===b.length||h>g)return;w&&C("app_comment_sent",{project_id:w.project_id,project_url:w.project_url,comments_num:_+1,comment_detail:x,reply_detail:(null==n?void 0:n.comment)||"",has_image:b.length>0,image_file:b.length>0?b.map(e=>e.s3_uri).join(","):"",enter_from:(0,v.qn)("enter_from")}),await y.createComment(),y.resetCommentInput(),a&&a()}catch(e){console.error("Failed to submit comment:",e)}};if((0,s.useEffect)(()=>{d(!0)},[]),(0,s.useEffect)(()=>{m.current&&(m.current.style.height="auto",m.current.style.height="".concat(m.current.scrollHeight,"px"))},[x]),!c)return null;let P=(0,l.jsx)("div",{className:"fixed inset-0 z-[50] flex items-center justify-center bg-black/20 px-4 sm:hidden",onClick:e=>{e.target===e.currentTarget&&a&&a()},children:(0,l.jsxs)("div",{className:"flex w-full max-w-md flex-col overflow-hidden rounded-[30px] bg-white p-4 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]",children:[n&&(0,l.jsx)("div",{className:"mb-3 flex w-full items-start justify-between gap-2 pr-0 pl-2",children:(0,l.jsxs)("div",{className:"flex flex-col items-start gap-0.5",children:[(0,l.jsxs)("span",{className:"text-xs text-black/30",children:["Reply to ",n.user.display_name,":"]}),(0,l.jsx)("span",{className:"text-sm text-black/65",children:n.comment+(null!=(r=null==(t=n.image_list)?void 0:t.length)&&r?" [image]":"")})]})}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("textarea",{id:"comment-input",ref:m,className:"typo-body max-h-[104px] w-full resize-none rounded-[20px] border border-black/6 bg-white px-4 py-[10px] placeholder-black/30 outline-none focus:border-black/65 disabled:cursor-not-allowed disabled:opacity-50",placeholder:S,value:x,onChange:e=>k(async()=>{y.setCommentContent(e.target.value)},{title:"Want to leave a comment?",description:"Log in to join the conversation and share your thoughts.",cancelText:"Cancel",confirmText:"Log in"})(),onKeyDown:e=>{"Enter"!==e.key||e.nativeEvent.isComposing||e.shiftKey||(e.preventDefault(),E())},autoFocus:!0,rows:1,disabled:i}),b.length>0&&(0,l.jsx)("div",{className:"mt-3 flex w-full flex-row items-center gap-2",children:b.map(e=>{let{width:t,height:r}=e.width&&e.height?eu(e.width,e.height,48):{width:48,height:48};return(0,l.jsxs)("div",{className:"relative flex flex-row items-center justify-start gap-1",children:["uploading"===e.status?(0,l.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-[8px] bg-black/5",children:(0,l.jsx)(p.WIr,{className:"h-5 w-5 animate-spin text-black/95"})}):(0,l.jsx)("img",{src:e.s3_uri,alt:"upload",className:"rounded-[8px] bg-black/5",style:{width:t,height:r}}),(0,l.jsx)("div",{className:"absolute inset-0 z-10 cursor-pointer items-center justify-center overflow-visible rounded-full",onClick:()=>y.deleteImage(e),children:(0,l.jsx)("div",{className:"absolute top-[-8px] right-[-8px] z-20 flex h-5 w-5 items-center justify-center overflow-visible rounded-full bg-black",children:(0,l.jsx)(p.Qks,{className:"h-4 w-4 text-white"})})})]},e.s3_key)})})]}),j&&(0,l.jsx)("p",{className:"mt-2 w-full overflow-hidden text-xs break-words text-[#D42727]",children:j}),(0,l.jsxs)("div",{className:"mt-3 flex w-full justify-between",children:[(0,l.jsx)("div",{className:(0,u.cn)("flex h-8 w-8 cursor-pointer items-center justify-center rounded-full hover:bg-black/5",(b.length>=1||i)&&"cursor-not-allowed opacity-50"),onClick:i?void 0:()=>{eN({currentCount:b.length,onUpload:y.uploadImage})},children:(0,l.jsx)(p.fsL,{className:"h-4 w-4 text-black/95"})}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{className:(0,u.cn)("typo-body box-content h-8 w-17 cursor-pointer rounded-full border border-black/6 px-3.5 hover:border-transparent hover:bg-black/3 disabled:cursor-not-allowed",i&&"opacity-50"),onClick:i?void 0:a||(()=>{y.resetCommentInput()}),disabled:f||i,children:"Cancel"}),(0,l.jsxs)("button",{className:(0,u.cn)("bg-brand typo-body-strong flex h-8 cursor-pointer items-center gap-2 rounded-full px-3.5 text-white",!x.trim()&&0===b.length||h>g||f||i?"cursor-not-allowed opacity-30":""),onClick:E,disabled:!x.trim()&&0===b.length||h>g||f||i,children:[f&&(0,l.jsx)(p.xNY,{className:"h-4 w-4 animate-spin"}),(0,l.jsx)("span",{children:"Comment"})]})]})]})]})});return(0,R.createPortal)(P,document.body)}function eC(e){let{disable:t}=e,{user:r}=(0,E.J)(),[n,a]=(0,s.useState)(!1),{replyTo:o,actions:i,comments:c}=em(),d=c.length>0?"Drop a comment, vibe the moment.":"Comment box lonely, needs your voice only.";return(0,s.useEffect)(()=>{o&&a(!0)},[o]),(0,l.jsxs)("div",{className:"flex flex-col p-4",children:[(0,l.jsxs)("div",{className:"flex w-full items-center justify-between gap-3",children:[(0,l.jsx)("div",{className:"mt-0.5 h-[30px] w-[30px] cursor-pointer rounded-full bg-cover bg-center",style:{backgroundImage:"url(".concat((null==r?void 0:r.photo_url)||j.sj,"), url(").concat(j.sj,")")},onClick:()=>window.open("/profile/".concat(null==r?void 0:r.uid),"_blank")}),(0,l.jsx)("div",{className:(0,u.cn)("typo-body flex-1 cursor-pointer rounded-[20px] border border-black/6 bg-white px-4 py-[12px] transition-colors hover:border-black/20",t&&"cursor-not-allowed opacity-50"),onClick:t?void 0:()=>a(!0),children:(0,l.jsx)("div",{className:"text-black/30",children:d})})]}),n&&(0,l.jsx)(ek,{replyTo:o,disable:t,onCancel:()=>{a(!1),i.resetCommentInput()}})]})}function eS(e){let{project:t,anchorCommentId:r}=e;return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsxs)("div",{className:"flex-shrink-0",children:[(0,l.jsx)("div",{className:"flex w-full items-center p-5",children:(0,l.jsx)(e_,{project:t,isMobile:!0})}),(0,l.jsx)(en,{project:t,isMobile:!0}),(0,l.jsx)(ex,{className:"bg-white px-6 pt-5 pb-2",noArrow:!0}),(0,l.jsx)(eC,{disable:!(0,k.QL)(t)})]}),(0,l.jsx)("div",{className:"min-h-0 flex-1",children:(0,l.jsx)(ev,{project:t,className:"h-full",innerClassName:"overflow-y-scroll",initialAnchorCommentId:r})})]})}var eE=r(59409);function eA(e){var t,r,s,n,a;let{project:i,onClickMoreProject:c,onClickExpand:d}=e,x=(null==(t=i.user)?void 0:t.uid)===W.v1,h=(0,m.useRouter)(),{track:f}=(0,o.s)();return(0,l.jsxs)("div",{className:(0,u.cn)("bg-body border-black/6 flex h-14 w-full max-w-full flex-row items-center justify-between gap-4 overflow-visible border-t px-3"),children:[(0,l.jsx)("div",{id:"left-container",className:"flex shrink-0 flex-row items-center gap-2",children:(0,l.jsx)(eE.x,{onClickLogo:()=>{f("app_watermark_button_click",{project_id:i.project_id,project_url:i.project_url,type:"mobile_bottom_bar"})}})}),(0,l.jsxs)("div",{className:"flex min-w-0 items-center justify-end gap-2",children:[x?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{id:"user-container",className:(0,u.cn)("relative flex cursor-pointer flex-row items-center gap-2"),onClick:e=>{var t;h.push("/profile/".concat(null==(t=i.user)?void 0:t.uid)),f("app_creator_info_click",{project_id:i.project_id,project_url:i.project_url})},children:[(0,l.jsx)("img",{src:(null==(r=i.user)?void 0:r.photo_url)||j.sj,alt:"",className:"h-7 w-7 rounded-full bg-gray-200 object-cover"}),(0,l.jsx)(ef.A,{className:"absolute -bottom-px -right-0.5 border-white",userBadge:null==(n=i.user)||null==(s=n.badge)?void 0:s.type,size:"12",tooltipSide:"right"})]}),(0,l.jsx)("div",{className:"max-w-[120px] truncate text-[16px]",children:null==(a=i.user)?void 0:a.display_name}),(0,l.jsx)("div",{className:"bg-black/6 h-[16px] w-[1px]"})]}),(0,l.jsx)("div",{className:"border-black/12 flex h-8 w-8 items-center justify-center rounded-full border",onClick:d,children:(0,l.jsx)(p.vuo,{className:"h-4 w-4 text-black/95"})})]})]})}let eP=e=>{let{children:t,isOpen:r,setIsOpen:s}=e;return r&&(0,l.jsx)("div",{className:"fixed inset-0 bottom-[env(safe-area-inset-bottom)] z-50 flex items-end justify-center bg-black/20 pt-14",onClick:()=>s(!1),children:(0,l.jsx)("div",{className:(0,u.cn)("flex h-full w-full flex-col overflow-hidden rounded-t-[24px] bg-white shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)] transition-transform duration-300",r?"translate-x-0 translate-y-0":"max-sm:translate-y-full sm:translate-x-[calc(100%+8px)]"),onClick:e=>{e.stopPropagation(),e.preventDefault()},children:t})})};function eR(e){let{project:t,projectUrl:r,screenStatus:n,anchorCommentId:a,blogList:o,isBlogProject:i,onProjectUpdate:c}=e,[d,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(void 0!==a);return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsx)(D,{className:"flex-1 rounded-none border-none",project:t,projectUrl:r,forceFullScreen:!0,onProjectUpdate:c}),"force_full"!==n&&"default_full"!==n&&(0,l.jsx)(eA,{project:t,onClickMoreProject:()=>u(!0),onClickExpand:()=>m(!0)}),(0,l.jsx)(eP,{isOpen:d,setIsOpen:u,children:i?(0,l.jsx)(b,{blogList:o||[],layout:"mobile"}):(0,l.jsx)(N,{projectId:t.project_id,layout:"mobile"})}),(0,l.jsx)(eP,{isOpen:p,setIsOpen:m,children:(0,l.jsx)(eS,{project:t,anchorCommentId:a})})]})}var eT=r(26858),eI=r(31984);function eM(e){let{project:t,isFullScreen:r,handleFullScreen:s}=e;return(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsxs)("div",{className:"flex h-[42px] w-full flex-shrink-0 flex-row items-center justify-between px-2",children:[(0,l.jsx)(e_,{project:t,isFullScreen:r}),(0,l.jsx)(en,{project:t,handleFullScreen:s})]})})}function eL(e){var t;let{onHeightChange:r,className:n,disable:a}=e,{replyTo:i,actions:c,content:d,shouldFocusInput:x,images:h,sendingComment:f,comments:g,project:b,totalCount:y}=em(),{user:w}=(0,E.J)(),{checkAuth:_}=(0,A.M)(),{track:N}=(0,o.s)(),k=(0,s.useRef)(null),C=(0,s.useRef)(null),S=(0,s.useRef)(null),[P,R]=(0,s.useState)(!1),T=(0,m.useRouter)(),I=g.length>0?"Drop a comment, vibe the moment.":"Comment box lonely, needs your voice only.";(0,s.useEffect)(()=>{if(!C.current||!r)return;let e=new ResizeObserver(e=>{for(let t of e)r(t.contentRect.height)});return e.observe(C.current),()=>{e.disconnect()}},[r]),(0,s.useEffect)(()=>{C.current&&r&&r(C.current.offsetHeight)},[r,i,x,h.length]),(0,s.useEffect)(()=>{if(k.current){let e=k.current;e.style.overflowY="hidden",e.style.height="auto";let t=Math.min(e.scrollHeight,104);e.style.height="".concat(t,"px"),e.scrollHeight>104&&(e.style.overflowY="auto")}},[d]);let M=async()=>{(d.trim()||0!==h.length)&&(b&&N("app_comment_sent",{project_id:b.project_id,project_url:b.project_url,comments_num:y+1,comment_detail:d,reply_detail:(null==i?void 0:i.comment)||"",has_image:h.length>0,image_file:h.length>0?h.map(e=>e.s3_uri).join(","):"",enter_from:(0,v.qn)("enter_from")}),await c.createComment(),c.resetCommentInput())},L=()=>{var e;if(!S.current||!C.current)return;let t=S.current.closest(".overflow-y-scroll");if(!t)return;let r=t.getBoundingClientRect().bottom;R(r>=S.current.getBoundingClientRect().top+(null==(e=C.current)?void 0:e.getBoundingClientRect().height))};(0,s.useEffect)(()=>{var e;let t=()=>{L()};L();let r=null==(e=S.current)?void 0:e.closest(".overflow-y-scroll");return r&&r.addEventListener("scroll",t),window.addEventListener("resize",t),()=>{r&&r.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[]);let F=P||x||i||d.trim()||h.length>0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:S,className:(0,u.cn)("h-0 w-full")}),(0,l.jsxs)("div",{ref:C,className:(0,u.cn)("bg-body w-full",F?"absolute bottom-0 left-0 z-10 pl-5":"relative",n),children:[i&&(0,l.jsx)("div",{className:"h-px w-full bg-black/6"}),(0,l.jsxs)("div",{className:"flex w-full flex-col gap-3 p-3",children:[i&&(0,l.jsxs)("div",{className:"flex w-full justify-between gap-2 pl-2",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsxs)("div",{className:"typo-small text-black/30",children:["Replying to ",null==(t=i.user)?void 0:t.display_name]}),(0,l.jsxs)("div",{className:"typo-body text-black/95",children:[i.comment,i.image_list&&i.image_list.length>0&&(0,l.jsx)("span",{className:"",children:"[image]"})]})]}),(0,l.jsx)("button",{onClick:c.cancelReply,className:"flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-black/95 hover:bg-black/5",children:(0,l.jsx)(p.Qks,{className:"h-4 w-4"})})]}),(0,l.jsxs)("div",{className:"flex flex-row items-start gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 py-[3px]",children:(0,l.jsx)("img",{src:(null==w?void 0:w.photo_url)||j.sj,alt:" ",className:"h-[30px] w-[30px] cursor-pointer rounded-full bg-black/5",onClick:()=>_(async()=>{T.push("/profile/".concat(null==w?void 0:w.uid))},{title:"Want to leave a comment?",description:"Log in to join the conversation and share your thoughts.",cancelText:"Cancel",confirmText:"Log in"})()})}),(0,l.jsxs)("div",{className:"flex w-full flex-col gap-3",children:[(0,l.jsxs)("div",{className:"bg-body flex w-full flex-col items-center justify-center gap-2.5 rounded-[20px] border border-black/6 px-4 py-2.5",children:[(0,l.jsx)("textarea",{ref:k,value:d,onChange:e=>_(async()=>{c.setCommentContent(e.target.value)},{title:"Want to leave a comment?",description:"Log in to join the conversation and share your thoughts.",cancelText:"Cancel",confirmText:"Log in"})(),onFocus:()=>_(async()=>{c.setShouldFocusInput(!0)},{title:"Want to leave a comment?",description:"Log in to join the conversation and share your thoughts.",cancelText:"Cancel",confirmText:"Log in"})(),onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey&&!e.nativeEvent.isComposing){var t;e.preventDefault(),M(),null==(t=k.current)||t.blur()}},placeholder:I,rows:1,disabled:a,className:"typo-body max-h-[104px] w-full resize-none text-black/95 placeholder-black/30 outline-none disabled:cursor-not-allowed disabled:opacity-50"}),h.length>0&&(0,l.jsx)("div",{className:"flex w-full flex-row items-center gap-2",children:h.map(e=>{let{width:t,height:r}=e.width&&e.height?eu(e.width,e.height,32):{width:32,height:32};return(0,l.jsxs)("div",{className:"relative flex flex-row items-center justify-start gap-1",children:["uploading"===e.status?(0,l.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-[8px] bg-black/5",children:(0,l.jsx)(p.WIr,{className:"h-4 w-4 animate-spin text-black/95"})}):(0,l.jsx)("img",{src:e.s3_uri,alt:" ",className:"rounded-[8px] bg-black/5",style:{width:t,height:r}}),(0,l.jsx)("div",{className:"absolute inset-0 z-10 cursor-pointer items-center justify-center overflow-visible rounded-full opacity-0 hover:opacity-100",onClick:()=>c.deleteImage(e),children:(0,l.jsx)("div",{className:"absolute top-[-8px] right-[-8px] z-20 flex h-4 w-4 items-center justify-center overflow-visible rounded-full bg-black",children:(0,l.jsx)(p.Qks,{className:"h-4 w-4 text-white"})})})]},e.s3_key)})})]}),x&&(0,l.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,l.jsx)("div",{className:(0,u.cn)("flex h-8 w-8 cursor-pointer items-center justify-center rounded-full hover:bg-black/5",(h.length>=1||a)&&"cursor-not-allowed opacity-50"),onClick:a?void 0:()=>{eN({currentCount:h.length,onUpload:c.uploadImage})},children:(0,l.jsx)(p.fsL,{className:"h-4 w-4 text-black/95"})}),(0,l.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,l.jsx)("button",{className:(0,u.cn)("typo-body box-content flex h-8 cursor-pointer items-center justify-center rounded-full border border-black/6 px-3.5 text-black/95",a&&"cursor-not-allowed opacity-50"),onClick:a?void 0:()=>{c.resetCommentInput()},disabled:a,children:"Cancel"}),(0,l.jsx)("button",{className:(0,u.cn)("bg-brand typo-body-strong flex h-8 cursor-pointer items-center justify-center rounded-full px-3.5 text-white disabled:cursor-not-allowed disabled:opacity-50",f&&"cursor-not-allowed opacity-50"),disabled:!d.trim()&&0===h.length||f||h.some(e=>"uploading"===e.status)||a,onClick:M,children:f?(0,l.jsx)(p.WIr,{className:"h-4 w-4 animate-spin text-white"}):"Comment"})]})]})]})]})]})]})]})}function eF(e){let{project:t,projectUrl:r,screenStatus:n,anchorCommentId:a,blogList:i,isBlogProject:c,onProjectUpdate:d}=e,{track:p}=(0,o.s)(),x=(0,m.useRouter)(),[h,f]=(0,s.useState)(0),[j,g]=(0,s.useState)("force_full"===n||"default_full"===n),[v,y]=(0,s.useState)(!1),w=(0,s.useRef)(null),_=(0,s.useRef)(null),C="force_full"===n,{totalCount:S}=em(),E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,[t,r]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let t=0,l=()=>{let l=Date.now();l-t>=e&&(r(window.innerWidth),t=l)};return r(window.innerWidth),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[e]),t}(),A=E&&E<1080?"grid":"sidebar",P=(0,s.useCallback)(e=>{C||g(e)},[C]),R=(0,s.useCallback)(e=>{f(e)},[]),T=e=>{x.push(e.project_url+"?enter_from=app_page_featured")},I=(0,s.useCallback)(()=>{v||(y(!0),p("app_comment_panel_show",{project_id:t.project_id,project_url:t.project_url,comments_count:S}),console.log("CommentList is now visible in viewport with >100px"))},[v,p,t.project_id,t.project_url]);return((0,s.useEffect)(()=>{if(!w.current)return;_.current&&_.current.disconnect();let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!v&&I()})},{root:null,rootMargin:"-250px 0px",threshold:0});return e.observe(w.current),_.current=e,()=>{_.current&&_.current.disconnect()}},[w.current,v,I]),(0,s.useEffect)(()=>{if(a&&w.current){let e=setTimeout(()=>{var e;null==(e=w.current)||e.scrollIntoView({behavior:"smooth",block:"start"})},100);return()=>clearTimeout(e)}},[a,w.current]),null===E)?(0,l.jsx)(eI.A,{}):(0,l.jsxs)("div",{className:"mt-14 flex h-[calc(100vh-56px)] min-h-[270px] w-full flex-col items-center justify-center",children:[(0,l.jsx)(eT.Header,{className:"fixed",showLogo:!0,onClickLogo:()=>{p("app_watermark_button_click",{project_id:t.project_id,project_url:t.project_url,type:"pc_header"})}}),(0,l.jsxs)("div",{className:(0,u.cn)("flex h-full w-full flex-1 flex-row","mx-auto max-w-[max(1080px,min(calc((100vh-3rem)*2/1),2560px))]"),children:[(0,l.jsx)("div",{className:"relative flex w-full flex-col",children:(0,l.jsxs)("div",{className:"no-scrollbar flex h-full w-full flex-col overflow-y-scroll px-5 transition-all duration-200",children:[(0,l.jsx)(D,{project:t,projectUrl:r,isFullScreen:j,forceFullScreen:C,onFullScreen:P,onProjectUpdate:d}),(0,l.jsx)(eM,{isFullScreen:j,project:t,handleFullScreen:P}),"grid"===A&&(c?(0,l.jsx)(b,{blogList:i||[],layout:"grid"}):(0,l.jsx)(N,{projectId:t.project_id,layout:"grid",onProjectClick:T})),(0,l.jsxs)("div",{ref:w,children:[(0,l.jsx)(ex,{}),(0,l.jsx)(eL,{disable:!(0,k.QL)(t),onHeightChange:R}),(0,l.jsx)(ev,{project:t,commentInputHeight:h,initialAnchorCommentId:a})]})]})}),"sidebar"===A&&(c?(0,l.jsx)(b,{blogList:i||[],layout:"sidebar"}):(0,l.jsx)(N,{projectId:t.project_id,layout:"sidebar",onProjectClick:T}))]})]})}function eD(e){let{subdomain:t,onVerificationSuccess:r}=e,[a,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)("idle"),[x,h]=(0,s.useState)(""),{track:f}=(0,o.s)(),j=(0,s.useRef)(null);(0,s.useEffect)(()=>{f("verify_passcode_page_show",{project_url:window.location.pathname})},[]),(0,s.useEffect)(()=>{var e;null==(e=j.current)||e.focus()},[]);let g=async e=>{m("pending");try{var l,s;let a=await (0,n.VQ)("projectView/verifyPasscode",{method:"POST",params:{subdomain:t,passcode:e}});(null==(l=a.data)?void 0:l.verified)&&(null==(s=a.data)?void 0:s.iframe_url)?(m("success"),f("verify_passcode_success",{project_url:window.location.pathname}),r(a.data.iframe_url)):(m("error"),h("Code mismatch - verify with the owner"))}catch(e){m("error"),h("Verification failed. Please try again.")}},b="pending"===u;return(0,l.jsxs)("div",{className:"bg-body min-h-screen",children:[(0,l.jsx)("div",{className:"flex h-14 items-center px-5",children:(0,l.jsx)(eE.x,{})}),(0,l.jsx)("div",{className:"flex min-h-[calc(100vh-64px)] flex-col items-center justify-center pb-[15vh]",children:(0,l.jsxs)("div",{className:"w-full max-w-[420px] rounded-[30px] bg-white p-6",children:[(0,l.jsx)("h1",{className:"text-[32px] font-semibold leading-[40px]",children:"Locked Project"}),(0,l.jsx)("p",{className:"typo-small mb-8 mt-1 text-black/45",children:"Enter the password to view this project"}),(0,l.jsxs)("div",{className:"border-black/6 flex h-10 items-center gap-2 rounded-[12px] border pl-3 pr-2",children:[(0,l.jsx)("input",{ref:j,type:c?"text":"password",autoComplete:"off",placeholder:"Enter the password",value:a,onChange:e=>{i(e.target.value),"error"===u&&(m("idle"),h(""))},onKeyDown:e=>{"Enter"===e.key&&a.trim()&&g(a)},className:"typo-body flex-1 outline-none",disabled:b}),(0,l.jsx)("button",{type:"button",onClick:()=>d(!c),className:"hover:bg-black/3 cursor-pointer rounded-full p-1",children:c?(0,l.jsx)(p.sRK,{className:"h-4 w-4 text-black/45"}):(0,l.jsx)(p.tLq,{className:"h-4 w-4 text-black/45"})})]}),(0,l.jsxs)("div",{className:"mb-3 ml-1 mt-2 h-4",children:["success"===u&&(0,l.jsx)("p",{className:"typo-small text-green-600",children:"✨ Access granted!"}),"error"===u&&(0,l.jsx)("p",{className:"typo-small text-[#D42727]",children:x})]}),(0,l.jsx)("button",{onClick:()=>{a.trim()&&g(a)},disabled:b||!a.trim(),className:"typo-body-strong flex h-12 w-full items-center justify-center rounded-full bg-black/95 text-white transition-all hover:bg-black/80 disabled:cursor-not-allowed",children:(0,l.jsx)("span",{children:b?"Verifying...":"Confirm"})})]})})]})}function eO(e){var t;let{project:r,urlSlug:u,screenStatus:p,enterFrom:m,isMobile:x,anchorCommentId:h,h1SEOContent:f,blogList:j,isBlogProject:g}=e,{track:b}=(0,o.s)(),[v,y]=(0,s.useState)(null!=(t=r.iframe_url)?t:null),[w,N]=(0,s.useState)(r),{registerInteractionCallback:k}=(0,a.k)(),{actions:C}=em(),{actions:S}=_(),E=(0,s.useRef)(!1);(0,s.useEffect)(()=>()=>{E.current=!0,setTimeout(()=>{E.current&&(C.dispose(),S.dispose())},100)},[]),(0,s.useEffect)(()=>{if(window.location.search.includes("yw_id=")){let e=new URL(window.location.href);e.searchParams.delete("yw_id"),window.history.replaceState(null,"",e.pathname+e.search)}},[]);let A=async()=>{try{var e;let t=await (0,n.VQ)("projectView/viewProject",{method:"GET",params:{subdomain:u,allowBanned:!0}});y((null==(e=t.data)?void 0:e.iframe_url)||""),N(t.data)}catch(e){console.error("Failed to update project:",e)}};return((0,s.useEffect)(()=>{w.need_passcode&&!w.iframe_url&&A()},[w.need_passcode,w.iframe_url,u]),(0,s.useEffect)(()=>{k(w.project_id,(e,t)=>{N(e=>({...e,interaction:t}))})},[w.project_id,k]),(0,s.useEffect)(()=>{v&&(b("app_page_view",{is_blog:g,enter_from:m,...(0,c.PO)(w),...(0,d.oi)()}),(i?Promise.resolve(i):new Promise(e=>{if(!window.collectEvent)return void e("");try{window.collectEvent("getToken",t=>{t&&t.ssid?(i=t.ssid,e(t.ssid)):e("")})}catch(t){e("")}})).then(e=>{(0,n.VQ)("project/reportStatsProjectIncr",{method:"POST",params:{projectId:w.project_id,statsType:"view",ssid:e,enterFrom:m}})}))},[v]),w.need_passcode&&!v)?(0,l.jsx)(eD,{subdomain:u,onVerificationSuccess:e=>{y(e)}}):(0,l.jsxs)("div",{className:"flex h-[100dvh] w-[100vw] flex-col",children:[f&&(0,l.jsx)("h1",{className:"sr-only absolute left-[-10000px] top-0 h-[1px] w-[1px] overflow-hidden",children:f}),x?(0,l.jsx)(eR,{project:w,projectUrl:v,screenStatus:p,anchorCommentId:h,blogList:j,isBlogProject:g,onProjectUpdate:()=>A()}):(0,l.jsx)(eF,{project:w,projectUrl:v,screenStatus:p,anchorCommentId:h,blogList:j,isBlogProject:g,onProjectUpdate:()=>A()})]})}},53147:(e,t,r)=>{"use strict";r.d(t,{CC:()=>i,PO:()=>o,bD:()=>n,iI:()=>a,v5:()=>s}),r(11874);var l=r(51876);let s=()=>new URLSearchParams(window.location.search).get("trace_id")||(()=>{let e=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);return"trace_".concat(e,"_").concat(t)})(),n=e=>({is_backend:+!!(0,l.i)(e)}),a=e=>({is_ai_app:(null==e?void 0:e.is_ai_app)||!1}),o=e=>({project_id:null==e?void 0:e.project_id,project_url:null==e?void 0:e.project_url,...a(e),...n(e)}),i=e=>({mode:e||"act"})},60691:(e,t,r)=>{Promise.resolve().then(r.bind(r,75907)),Promise.resolve().then(r.bind(r,50879)),Promise.resolve().then(r.bind(r,394))},66830:(e,t,r)=>{"use strict";r.d(t,{$t:()=>l,Fr:()=>s,Ny:()=>a,er:()=>n,un:()=>o});let l=()=>{var e;return null==(e=window.navigator)?void 0:e.userAgent},s=e=>{let t=e||l();return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(t)},n=e=>{let t=window;return(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||(e=>setTimeout(()=>e(Date.now()),16)))(e)},a=e=>{let t=window;(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||(e=>clearTimeout(e)))(e)},o=e=>{let t=e||l();return/iPhone|iPad|iPod/i.test(t)}},74714:(e,t,r)=>{"use strict";r.d(t,{SQ:()=>u,_2:()=>p,mB:()=>m,rI:()=>c,ty:()=>d});var l=r(91668),s=r(97637),n=r(89112),a=r(82642);let o=(0,n.createContext)(void 0),i=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("DropdownMenu components must be used within a DropdownMenu provider");return e},c=e=>{let{children:t,className:r,triggerType:s="click",hoverDelay:i=300,onOpenChange:c,disabled:d=!1}=e,[u,p]=(0,n.useState)(!1),m=(0,n.useRef)(null),x=(0,n.useRef)(null),h=(0,n.useRef)(null),f=(0,n.useRef)(null),j=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(u){let e=e=>{var t;!x.current||x.current.contains(e.target)||(null==(t=m.current)?void 0:t.contains(e.target))||(e.stopPropagation(),e.preventDefault(),p(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}},[u]),(0,n.useEffect)(()=>()=>{f.current&&clearTimeout(f.current),j.current&&clearTimeout(j.current)},[]),(0,n.useEffect)(()=>{null==c||c(u)},[u,c]),(0,l.jsx)(o.Provider,{value:{isOpen:u,setIsOpen:p,triggerRef:m,menuRef:x,triggerType:s,openTimeoutRef:j,closeTimeoutRef:f,hoverDelay:i,disabled:d},children:(0,l.jsx)("div",{ref:h,className:(0,a.cn)("relative",r),onMouseLeave:"hover"===s?()=>{j.current&&(clearTimeout(j.current),j.current=null),f.current=setTimeout(()=>{p(!1)},200)}:void 0,onMouseEnter:"hover"===s?()=>{f.current&&(clearTimeout(f.current),f.current=null)}:void 0,children:t})})},d=e=>{let{children:t,className:r}=e,{setIsOpen:s,triggerRef:n,triggerType:o,openTimeoutRef:c,closeTimeoutRef:d,hoverDelay:u,disabled:p}=i();return(0,l.jsx)("div",{ref:n,className:(0,a.cn)(p?"cursor-not-allowed opacity-50":"cursor-pointer",r),onClick:e=>{e.stopPropagation(),e.preventDefault(),p||("click"===o?s(e=>!e):s(!0))},onMouseEnter:()=>{"hover"===o&&(d.current&&(clearTimeout(d.current),d.current=null),c.current=setTimeout(()=>{s(!0)},u))},onMouseLeave:()=>{"hover"===o&&c.current&&(clearTimeout(c.current),c.current=null)},children:t})},u=e=>{let{children:t,className:r,autoPosition:s=!1,estimatedHeight:n}=e,{isOpen:o,menuRef:c,triggerRef:d,disabled:u}=i();return!o||u?null:(0,l.jsx)("div",{ref:c,className:(0,a.cn)("absolute z-50 space-y-1 rounded-[20px] bg-white p-2 shadow-[0px_16px_32px_-1px_rgba(0,0,0,0.15)]",s?s&&d.current&&d.current.getBoundingClientRect().top>=(n||200)?"bottom-full mb-2":"top-full mt-2":"",r),children:t})},p=e=>{let{className:t,icon:r,label:o,rightBlock:c,disabled:d,children:u,onClick:p}=e,{setIsOpen:m}=i(),[x,h]=(0,n.useState)(!1),f=async e=>{if(e.stopPropagation(),e.preventDefault(),!d)try{h(!0),await (null==p?void 0:p(e)),h(!1),m(!1)}catch(e){h(!1)}};return(0,l.jsx)("div",{className:(0,a.cn)("flex h-10 cursor-pointer items-center justify-between gap-2 rounded-[12px] px-2 hover:bg-black/3",d&&"cursor-not-allowed text-black/30 opacity-50",t),onClick:p?f:void 0,children:u||(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[r&&(x?(0,l.jsx)(s.xNY,{className:"h-4 w-4 animate-spin"}):(0,l.jsx)(r,{className:"h-4 w-4"})),(0,l.jsx)("span",{className:"typo-body whitespace-nowrap",children:o})]}),c]})})},m=e=>{let{className:t}=e;return(0,l.jsx)("div",{className:(0,a.cn)("my-1.5 h-[1px] w-full bg-black/6 px-2",t)})}},75907:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var l=r(91668),s=r(48002),n=r(46263);function a(){let e=(0,s.useRouter)();return(0,l.jsx)("div",{className:"relative flex h-screen max-h-screen min-h-screen",children:(0,l.jsx)("div",{className:"relative flex h-screen max-h-screen min-h-screen flex-1 flex-col overflow-y-auto",children:(0,l.jsxs)("main",{className:"mb-20 flex flex-1 flex-col items-center justify-center px-5",children:[(0,l.jsx)("h1",{className:"font-youware-sans mb-2 text-[80px] sm:text-[100px] md:text-[128px]",children:"404"}),(0,l.jsx)("h2",{className:"font-youware-sans text-center text-[28px]/8 sm:text-[32px]/9 md:text-[40px]/10",children:"Oops, this project is gone!"}),(0,l.jsx)("p",{className:"typo-body mt-3 text-center text-black/45",children:"The project you're looking for doesn't exist or has been removed."}),(0,l.jsx)("button",{onClick:()=>{(0,n.isComOrigin)()?e.push("/"):window.location.href=(0,n.getComOrigin)()},className:"bg-brand typo-large-strong mt-12 flex h-12 w-36 cursor-pointer items-center justify-center rounded-full text-white sm:mt-16 sm:h-14 sm:w-40 md:mt-20",children:"Explore More"})]})})})}},84535:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var l=r(61432);let s=(0,l.createServerReference)("60e56bfe7cbf89b2ab97e0faf9599cd5d58674e9df",l.callServer,void 0,l.findSourceMapURL,"favoriteProject")},86288:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var l=r(91668),s=r(76126),n=r(10578),a=r(41284),o=r(97913),i=r(82665),c=r(17390);let d=()=>{let{openSubscription:e}=(0,a.$)(),{userId:t}=(0,s.J)(),{track:r}=(0,i.s)();return{showProjectLimitAlert:(0,n.A)(t=>{r("sub_project_limit_popup",{action:"show"});let s={title:"You've reached your project limit.",description:"Upgrade for unlimited projects or manage your current ones. Projects created before Dec 9, 2025 are not affected.",cancelText:"Cancel",confirmText:(0,l.jsxs)("button",{className:"flex h-9 cursor-pointer items-center justify-center gap-1 rounded-full bg-[#FFD15D] pl-3 pr-4 text-[#A55500] hover:bg-[#FFD15D]/85",children:[(0,l.jsx)(c.a,{className:"size-4"}),(0,l.jsx)("span",{children:"Upgrade"})]}),onCancel:()=>{},onConfirm:()=>{r("sub_project_limit_popup",{action:"upgrade"}),r("sub_upgrade_click",{click_from:"project_limit"}),e({query:{location:"project_limit"}})},className:"w-[380px]"};(0,o.S)({...s,...null!=t?t:{}})})}}},90705:(e,t,r)=>{"use strict";r.d(t,{FW:()=>i,Hx:()=>a,Mn:()=>d,V2:()=>o,Vt:()=>n,js:()=>u,lf:()=>c,v1:()=>s});var l=r(24246);let s="0000000000000000000000000000",n="00000000-0000-0000-0000-000000000000";l.env.JWT_SECRET_KEY;let a="first_time_favorite_users",o="first_time_view_ai_app",i=3,c=500,d=10,u="https://public.youware.com/creation_loading.html"}},e=>{e.O(0,[8660,6637,2661,9713,306,2123,6263,8675,2829,5313,2665,6457,8153,8032,424,2035,4964,8418,6342,2045,1140,9451,6665,7358],()=>e(e.s=60691)),_N_E=e.O()}]);