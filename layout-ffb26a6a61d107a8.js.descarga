try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fa105fe7-79bd-4238-8271-dfdb49e5128e",e._sentryDebugIdIdentifier="sentry-dbid-fa105fe7-79bd-4238-8271-dfdb49e5128e")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{9042:function(e){e.exports=function(e,t,n){t.prototype.isYesterday=function(){var e="YYYY-MM-DD",t=n().subtract(1,"day");return this.format(e)===t.format(e)}}},10816:(e,t,n)=>{"use strict";n.d(t,{AppTrafficProvider:()=>f,C:()=>h});var r=n(91668),a=n(89112),i=n(73145),s=n(29224),o=n(82665),l=n(20505);let c=e=>{let{onClose:t,location:n}=e,{track:c}=(0,o.s)(),[u,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{requestAnimationFrame(()=>{d(!0)})},[]);let f=()=>{d(!1),setTimeout(()=>{t()},300)},h=(0,r.jsxs)("div",{className:"z-61 fixed inset-0 flex items-end justify-center",onClick:f,children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/30 transition-opacity duration-300 ".concat(u?"opacity-100":"opacity-0")}),(0,r.jsxs)("div",{className:"relative w-full rounded-t-[24px] bg-white px-4 pb-8 pt-6 transition-transform duration-300 ".concat(u?"translate-y-0":"translate-y-full"),onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"mb-6 flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"h-[64px] w-[64px] overflow-hidden rounded-[16px]",children:(0,r.jsx)("img",{src:s.TZ,alt:"YouWare",width:64,height:64})}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("h2",{className:"typo-h2 text-black/95",children:"Get the full app experience"}),(0,r.jsx)("p",{className:"typo-body px-4 text-center text-black/60",children:"Create with better performance and real-time task notifications on the app"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>{c("app_traffic_modal_click",{location:n,action:"allow"}),f(),setTimeout(()=>{(0,l.H$)(l.X$.appTrafficModal)},150)},className:"bg-brand typo-large-strong flex h-12 w-full items-center justify-center rounded-full text-white",children:"Open YouWare"}),(0,r.jsx)("button",{onClick:()=>{c("app_traffic_modal_click",{location:n,action:"cancel"}),f()},className:"typo-large-strong text-black/45",children:"Not now"})]})]})]});return(0,i.createPortal)(h,document.body)};var u=n(66830);let d=(0,a.createContext)({isModalVisible:!1,showModal:()=>{},hideModal:()=>{}}),f=e=>{let{children:t}=e,[n,i]=(0,a.useState)(!1),s=(0,a.useRef)(""),{track:l}=(0,o.s)(),f=(0,a.useCallback)(e=>{(0,u.Fr)()&&(l("app_traffic_modal_show",{location:e}),s.current=e,i(!0))},[l]),h=(0,a.useCallback)(()=>{i(!1)},[]);return(0,r.jsxs)(d.Provider,{value:{isModalVisible:n,showModal:f,hideModal:h},children:[t,n&&(0,r.jsx)(c,{onClose:h,location:s.current})]})},h=()=>{let e=(0,a.useContext)(d),t=(0,a.useRef)(!1),n=(0,a.useCallback)(n=>{t.current||(t.current=!0,e.showModal(n))},[e.showModal]);return{...e,showModalOnce:n}}},11883:e=>{e.exports={style:{fontFamily:"'yourwareSans', 'yourwareSans Fallback'"},className:"__className_973906"}},15663:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});let r={scheme:"youware",androidPackage:"com.arco.youware",play:"https://play.google.com/store/apps/details?id=com.arco.youware",appStore:"https://apps.apple.com/us/app/youware/id6749667042",website:"https://www.youware.com"}},16842:(e,t,n)=>{"use strict";n.d(t,{InviteFriendProvider:()=>y,i:()=>w});var r=n(91668),a=n(89112),i=n(61432);let s=(0,i.createServerReference)("00d91935fa93c84c3118836d2f0aa99d902ad07c8d",i.callServer,void 0,i.findSourceMapURL,"fetchInviteInfo");var o=n(97637),l=n(73145),c=n(49849),u=n(29224),d=n(11996),f=n(48470),h=n(82665),g=n(46263),m=n(21864);let p=e=>{let{onClose:t}=e,{fetchInviteInfo:n,inviteInfo:i,loading:s,error:p}=w(),{subscriptionInfo:v}=(0,d.R)(),{track:y}=(0,h.s)(),{reward_credit_config:x}=(0,f.t)(),[b,_]=(0,a.useState)(!0);(0,a.useEffect)(()=>{S()},[]);let S=(0,a.useCallback)(async()=>{await n(),_(!1)},[n]),k=(0,a.useMemo)(()=>(null==i?void 0:i.invite_code)?"".concat((0,g.getOrigin)(),"/invite/").concat(i.invite_code):"",[null==i?void 0:i.invite_code]),j=e=>{e.preventDefault(),e.stopPropagation(),t()},$=async e=>{e.preventDefault(),e.stopPropagation(),y("invite_copy_link_click",{credits_num:(null==v?void 0:v.total_credits)||0,monthly_invites:(null==i?void 0:i.monthly_invited_count)||0});try{await navigator.clipboard.writeText(k),(0,m.P)({message:"Link copied to clipboard",type:"success"})}catch(e){(0,m.P)({message:"Failed to copy link, please try again",type:"error"})}},C=(()=>{var e,t,a;return b||s?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 p-4",children:(0,r.jsx)("div",{className:"relative flex h-[298px] w-[480px] max-w-[calc(100vw-32px)] flex-col items-center justify-center gap-5 rounded-[30px] bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]",children:(0,r.jsx)(c.A,{animationPath:u.S0,className:"h-20 w-20"})})}):p||(null==i?void 0:i.invite_code)===null?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 p-4",children:(0,r.jsxs)("div",{className:"relative flex h-[298px] w-[480px] max-w-[calc(100vw-32px)] flex-col items-center justify-center gap-5 rounded-[30px] bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]",children:[(0,r.jsx)("button",{onClick:j,className:"hover:bg-black/3 absolute right-3 top-3 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full p-1 transition-colors",children:(0,r.jsx)(o.Qks,{className:"h-4 w-4"})}),(0,r.jsx)("p",{className:"typo-body text-black/95",children:"Failed to get invite link"}),(0,r.jsx)("button",{onClick:n,className:"bg-brand typo-body h-9 flex-shrink-0 cursor-pointer rounded-full px-3 text-white",children:"Retry"})]})}):(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 p-4",children:(0,r.jsxs)("div",{className:"relative flex w-[480px] max-w-[calc(100vw-32px)] flex-col gap-4 rounded-[30px] bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)] sm:gap-5 sm:p-6",children:[(0,r.jsx)("button",{onClick:j,className:"hover:bg-black/3 absolute right-3 top-3 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full p-1 transition-colors sm:right-4 sm:top-4",children:(0,r.jsx)(o.Qks,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 pt-2 text-center sm:py-3",children:[(0,r.jsx)(o.Bik,{className:"text-brand h-10 w-10 sm:h-12 sm:w-12"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h2",{className:"typo-h2",children:"Invite to get credits"}),(0,r.jsxs)("p",{className:"typo-body text-black/65",children:[(0,r.jsx)("span",{children:"Share your invitation link, get "}),(0,r.jsxs)("span",{className:"font-bold",children:[x.invite_reward," free credits"]}),(0,r.jsx)("span",{children:" for every friend who signs up."})]})]}),(0,r.jsxs)("div",{className:"typo-ex-small bg-black/3 rounded-full px-3 py-2 text-black/30",children:["Monthly invites:"," ",(0,r.jsx)("span",{children:Math.min(null!=(e=null==i?void 0:i.monthly_invited_count)?e:0,null!=(t=null==i?void 0:i.monthly_invite_limit)?t:10)}),"/",(0,r.jsx)("span",{children:null!=(a=null==i?void 0:i.monthly_invite_limit)?a:10})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h3",{className:"typo-body-strong text-black/95",children:"Share your invitation link"}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 text-black/95 sm:flex-row sm:gap-2",children:[(0,r.jsxs)("div",{className:"border-black/6 flex h-9 min-w-0 flex-1 items-center gap-2 rounded-full border px-3",children:[(0,r.jsx)(o.Y$G,{className:"h-4 w-4 flex-shrink-0"}),(0,r.jsx)("div",{className:"typo-body min-w-0 flex-1 truncate",children:k})]}),(0,r.jsx)("button",{onClick:$,className:"bg-brand hover:bg-brand/90 typo-body-strong h-9 flex-shrink-0 cursor-pointer rounded-full px-4 text-white sm:px-3",children:"Copy link"})]})]})]})})})();return(0,l.createPortal)(C,document.body)},v=(0,a.createContext)({isModalVisible:!1,inviteInfo:null,loading:!1,error:null,showModal:()=>{},hideModal:()=>{},fetchInviteInfo:async()=>{}}),y=e=>{let{children:t}=e,[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[d,f]=(0,a.useState)(null),h=(0,a.useCallback)(async()=>{try{u(!0),f(null);let e=await s();0===e.code&&e.data?l(e.data):f(e.message||"Failed to fetch invite info")}catch(e){f(e instanceof Error?e.message:"Failed to fetch invite info")}finally{u(!1)}},[]),g=(0,a.useCallback)(async()=>{i(!0),o||await h()},[o,h]),m=(0,a.useCallback)(()=>{i(!1),f(null)},[]);return(0,r.jsxs)(v.Provider,{value:{isModalVisible:n,inviteInfo:o,loading:c,error:d,showModal:g,hideModal:m,fetchInviteInfo:h},children:[t,n&&(0,r.jsx)(p,{onClose:m})]})},w=()=>(0,a.useContext)(v)},17123:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,72357,23)),Promise.resolve().then(n.bind(n,60270)),Promise.resolve().then(n.bind(n,68431)),Promise.resolve().then(n.bind(n,92879)),Promise.resolve().then(n.bind(n,78497)),Promise.resolve().then(n.bind(n,96342)),Promise.resolve().then(n.bind(n,10816)),Promise.resolve().then(n.bind(n,68153)),Promise.resolve().then(n.bind(n,95280)),Promise.resolve().then(n.bind(n,41975)),Promise.resolve().then(n.bind(n,31333)),Promise.resolve().then(n.bind(n,40909)),Promise.resolve().then(n.bind(n,31723)),Promise.resolve().then(n.bind(n,68459)),Promise.resolve().then(n.bind(n,16842)),Promise.resolve().then(n.bind(n,61787)),Promise.resolve().then(n.bind(n,71506)),Promise.resolve().then(n.bind(n,22009)),Promise.resolve().then(n.bind(n,11996)),Promise.resolve().then(n.bind(n,76126)),Promise.resolve().then(n.bind(n,74951)),Promise.resolve().then(n.t.bind(n,34940,23)),Promise.resolve().then(n.t.bind(n,11883,23)),Promise.resolve().then(n.t.bind(n,49277,23)),Promise.resolve().then(n.t.bind(n,64436,23))},20505:(e,t,n)=>{"use strict";n.d(t,{H$:()=>i,X$:()=>s});var r=n(15663),a=n(66830);let i=e=>{let t=(0,a.un)(),n=e||(t?r.u.appStore:r.u.play);window.location.href=n},s={appTrafficModal:"https://youware.onelink.me/OOYG/kbe7celu"}},22009:(e,t,n)=>{"use strict";n.d(t,{SettingsProvider:()=>u,M:()=>d});var r=n(91668),a=n(89112),i=n(61432);let s=(0,i.createServerReference)("00daccedf5d96c2a742eb4d4844d38b2159567939c",i.callServer,void 0,i.findSourceMapURL,"fetchSettingsInfo"),o={reward_credit_config:{daily_login_reward:100,invite_reward:200,new_user_reward:500},invite_config:{monthly_invite_limit:10},model_selector_config:[],mode_suggestion_config:{fix:[],boost:[]}};var l=n(11546);let c=(0,a.createContext)({settings:o,isLoading:!1,error:null,refetchSettings:async()=>{}}),u=e=>{let{children:t,initialSettings:n}=e,[i,u]=(0,a.useState)(null!=n?n:o),[d,f]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{u(null!=n?n:o)},[n]);let m=(0,a.useCallback)(async()=>{try{f(!0),g(null);let e=await s();if(0===e.code&&e.data)u({reward_credit_config:e.data.reward_credit_config,invite_config:e.data.invite_config,model_selector_config:e.data.model_selector_config,mode_suggestion_config:e.data.mode_suggestion_config}),l.Ay.trace("Settings fetched successfully",{settings:e.data});else{let t=e.message||"Failed to fetch settings";g(t),l.Ay.error("Failed to fetch settings",Error(JSON.stringify(e)))}}catch(e){g("Network error while fetching settings"),l.Ay.error("Settings fetch error",e)}finally{f(!1)}},[]);return(0,r.jsx)(c.Provider,{value:{settings:i,isLoading:d,error:h,refetchSettings:m},children:t})},d=()=>(0,a.useContext)(c)},22352:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r=n(89112),a=n(76126),i=n(43073),s=n(61432);let o=(0,s.createServerReference)("00a67d5bf95726f1df64c18b4c466f0c0498b6112d",s.callServer,void 0,s.findSourceMapURL,"fetchDailyLoginReward"),l=()=>{let e=new Date,t=e.getUTCFullYear(),n=String(e.getUTCMonth()+1).padStart(2,"0"),r=String(e.getUTCDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},c=e=>"daily_login_reward_last_clicked_".concat(e);var u=n(11546);let d={shouldShowDailyLoginReward:!1},f=(0,i.v)()((e,t,n)=>({...d,...((e,t)=>({checkShouldShowTips:e=>{if(!e)return!1;let t=l(),n=localStorage.getItem(c(e));return!n||n!==t},updateShouldShowDailyLoginReward:t=>{e({shouldShowDailyLoginReward:t})},handleDailyLoginRewardAction:async t=>{if(!t)throw Error("Not authenticated");try{let n=await o();if(0!==n.code)throw Error("Daily login reward failed with code: ".concat(n.code));let r=l();localStorage.setItem(c(t),r),e({shouldShowDailyLoginReward:!1})}catch(e){throw u.vF.error("Daily Login Reward Error",e),e}},initializeDailyLoginReward:n=>{e({shouldShowDailyLoginReward:t().checkShouldShowTips(n)})},resetDailyLoginReward:()=>{e({shouldShowDailyLoginReward:!1})}}))(e,t,n)}));var h=n(10578);let g=()=>{let{userId:e}=(0,a.J)(),t=(0,h.A)(()=>e),{shouldShowDailyLoginReward:n,handleDailyLoginRewardAction:i,initializeDailyLoginReward:s,resetDailyLoginReward:o,checkShouldShowTips:l}=f();return(0,r.useEffect)(()=>{e?s(e):o()},[e,s]),{shouldShowDailyLoginReward:n,handleDailyLoginReward:async()=>{let e=t();if(!e)throw Error("Not authenticated");return await i(e)},checkShouldShowDailyLoginReward:()=>{let e=t();return!!e&&l(e)}}}},31723:(e,t,n)=>{"use strict";n.d(t,{D:()=>l,EnvProvider:()=>o});var r=n(91668),a=n(89112),i=n(66830);let s=(0,a.createContext)({isMobile:!1}),o=e=>{let{children:t,initialEnvInfo:n}=e,[o,l]=(0,a.useState)(n);return(0,a.useEffect)(()=>{l({isMobile:(0,i.Fr)()})},[]),(0,r.jsx)(s.Provider,{value:o,children:t})},l=()=>(0,a.useContext)(s)},41975:(e,t,n)=>{"use strict";n.d(t,{BadgeProvider:()=>c,L:()=>u});var r=n(91668),a=n(89112),i=n(4499),s=n(76126);let o=(0,n(11546).tZ)("BadgeContext"),l=(0,a.createContext)({featureBadges:[],getFeatureBadgeByType:()=>null,markFeatureBadgeAsViewed:()=>{},refreshFeatureBadges:async()=>{},getFeatureBadgeAtLocation:()=>null}),c=e=>{let{children:t}=e,{user:n}=(0,s.J)(),[c,u]=(0,a.useState)([]),d=(0,a.useCallback)(async()=>{try{let e=(await (0,i.VQ)("badge/getFeatureBadges",{method:"GET"})).data||[];u(e),o.info("Loaded ".concat(e.length," feature badges"))}catch(e){o.error("Failed to load feature badges:",e)}},[]);(0,a.useEffect)(()=>{if(!(null==n?void 0:n.uid))return void u([]);d()},[null==n?void 0:n.uid,d]);let f=async()=>{await d()};return(0,r.jsx)(l.Provider,{value:{featureBadges:c,getFeatureBadgeByType:e=>c.find(t=>t.badge_type===e)||null,markFeatureBadgeAsViewed:(e,t)=>{try{u(n=>n.map(n=>{if(n.uuid!==e)return n;if(!t)return null;let r=n.locations.filter(e=>!t.startsWith(e));return 0===r.length?null:{...n,locations:r}}).filter(e=>null!==e)),(0,i.VQ)("badge/ackFeatureBadge",{method:"POST",params:{badge_id:e,location:t}}).catch(e=>{o.error("Failed to ack feature badge:",e)}),o.info("Marked feature badge as viewed: ".concat(e))}catch(e){throw o.error("Failed to mark feature badge as viewed:",e),e}},refreshFeatureBadges:f,getFeatureBadgeAtLocation:e=>c.find(t=>{var n;return null==(n=t.locations)?void 0:n.includes(e)})||null},children:t})},u=()=>(0,a.useContext)(l)},43073:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(89112);let a=e=>{let t,n=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(r,a,i);return i},i=e=>{let t=(e=>e?a(e):a)(e),n=e=>(function(e,t=e=>e){let n=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},s=e=>e?i(e):i},48470:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(22009);let a=()=>{let{settings:e,isLoading:t,error:n,refetchSettings:a}=(0,r.M)();return{reward_credit_config:e.reward_credit_config,invite_config:e.invite_config,model_selector_config:e.model_selector_config,settings:e,isLoading:t,error:n,refetchSettings:a,isSettingsReady:!t&&!n&&!!e}}},49277:e=>{e.exports={style:{fontFamily:"'Roboto Flex', 'Roboto Flex Fallback'",fontStyle:"normal"},className:"__className_b690c6"}},60270:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});var r=n(91668),a=n(89112),i=n(97913),s=n(82642);function o(){let[e,t]=(0,a.useState)(null);if((0,a.useEffect)(()=>((0,i.B)(t),()=>{(0,i.B)(()=>{})}),[]),!e)return null;let{title:n,description:o,cancelText:l="Cancel",confirmText:c="Confirm",onCancel:u,onConfirm:d,cancelClassName:f="",confirmClassName:h="",className:g=""}=e,m=()=>{u&&u(),t(null)},p=()=>{d&&d(),t(null)};return(0,r.jsx)("div",{className:"z-100 fixed inset-0 flex items-center justify-center bg-black/20 p-4",onClick:e=>{e.target===e.currentTarget&&m()},children:(0,r.jsxs)("div",{className:(0,s.cn)("bg-fill-primary shadow-modal rounded-4xl flex w-[512px] max-w-[calc(100vw-32px)] flex-col p-6",g),children:[(0,r.jsx)("h3",{className:"typo-h2",children:n}),o&&(0,r.jsx)("div",{className:"typo-body mt-3 text-black/65",children:o}),(0,r.jsxs)("div",{className:"typo-body-strong mt-6 flex justify-end gap-3",children:[u&&("string"==typeof l?(0,r.jsx)("button",{className:"flex h-9 cursor-pointer items-center justify-center rounded-full border border-gray-300 px-4 transition-colors hover:bg-gray-100 ".concat(f),onClick:m,children:l}):(0,r.jsx)("div",{onClick:m,children:l})),d&&("string"==typeof c?(0,r.jsx)("button",{className:"text-primary-inverse bg-green2 hover:bg-green2/85 flex h-9 cursor-pointer items-center justify-center rounded-full px-4 transition-colors ".concat(h),onClick:p,children:c}):(0,r.jsx)("div",{onClick:p,children:c}))]})]})})}},61787:(e,t,n)=>{"use strict";n.d(t,{NotificationProvider:()=>u,h:()=>d});var r=n(91668),a=n(89112),i=n(4499),s=n(76126),o=n(22352),l=n(11546);let c=(0,a.createContext)({unreadCount:0,onMarkAllAsRead:()=>{}}),u=e=>{let{children:t}=e,{user:n}=(0,s.J)(),[u,d]=(0,a.useState)(0),{checkShouldShowDailyLoginReward:f}=(0,o.J)(),h=(0,a.useCallback)(e=>{var t;if(!(e&&"number"==typeof(null==(t=e.data)?void 0:t.unread_count)))return 0;let n=e.data.last_read_time,r=f(),a=n&&(e=>{let t=new Date(e),n=new Date,r=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),a=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));return r.getTime()===a.getTime()})(n);return e.data.unread_count+(r&&!a?1:0)},[f]),g=(0,a.useCallback)(async()=>{try{let e=await (0,i.VQ)("notification/getUnreadCount",{method:"GET"});d(h(e))}catch(e){l.Ay.error("Failed to fetch notification count:",e)}},[h]);(0,a.useEffect)(()=>{if(!(null==n?void 0:n.uid))return void d(0);g()},[null==n?void 0:n.uid,g]);let m=(0,a.useCallback)(async()=>{try{await (0,i.VQ)("notification/markAllAsRead",{method:"POST"}),d(0)}catch(e){l.Ay.error("Failed to mark all as read:",e)}},[d]);return(0,r.jsx)(c.Provider,{value:{unreadCount:u,onMarkAllAsRead:m},children:t})},d=()=>(0,a.useContext)(c)},64436:e=>{e.exports={style:{fontFamily:"'Roboto Mono', 'Roboto Mono Fallback'",fontStyle:"normal"},className:"__className_d27816"}},66830:(e,t,n)=>{"use strict";n.d(t,{$t:()=>r,Fr:()=>a,Ny:()=>s,er:()=>i,un:()=>o});let r=()=>{var e;return null==(e=window.navigator)?void 0:e.userAgent},a=e=>{let t=e||r();return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(t)},i=e=>{let t=window;return(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||(e=>setTimeout(()=>e(Date.now()),16)))(e)},s=e=>{let t=window;(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||(e=>clearTimeout(e)))(e)},o=e=>{let t=e||r();return/iPhone|iPad|iPod/i.test(t)}},68281:function(e){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",a="week",i="month",s="quarter",o="year",l="date",c="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},h="en",g={};g[h]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}};var m="$isDayjsObject",p=function(e){return e instanceof x||!(!e||!e[m])},v=function e(t,n,r){var a;if(!t)return h;if("string"==typeof t){var i=t.toLowerCase();g[i]&&(a=i),n&&(g[i]=n,a=i);var s=t.split("-");if(!a&&s.length>1)return e(s[0])}else{var o=t.name;g[o]=t,a=o}return!r&&a&&(h=a),a||!r&&h},y=function(e,t){if(p(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new x(n)},w={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,i),s=n-a<0,o=t.clone().add(r+(s?-1:1),i);return+(-(r+(n-a)/(s?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return({M:i,y:o,w:a,d:"day",D:l,h:r,m:n,s:t,ms:e,Q:s})[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};w.l=v,w.i=p,w.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function f(e){this.$L=v(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[m]=!0}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(u);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return this.$d.toString()!==c},h.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return y(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<y(e)},h.$g=function(e,t,n){return w.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var c=this,u=!!w.u(s)||s,d=w.p(e),f=function(e,t){var n=w.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return u?n:n.endOf("day")},h=function(e,t){return w.w(c.toDate()[e].apply(c.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},g=this.$W,m=this.$M,p=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case o:return u?f(1,0):f(31,11);case i:return u?f(1,m):f(0,m+1);case a:var y=this.$locale().weekStart||0,x=(g<y?g+7:g)-y;return f(u?p-x:p+(6-x),m);case"day":case l:return h(v+"Hours",0);case r:return h(v+"Minutes",1);case n:return h(v+"Seconds",2);case t:return h(v+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(a,s){var c,u=w.p(a),d="set"+(this.$u?"UTC":""),f=((c={}).day=d+"Date",c[l]=d+"Date",c[i]=d+"Month",c[o]=d+"FullYear",c[r]=d+"Hours",c[n]=d+"Minutes",c[t]=d+"Seconds",c[e]=d+"Milliseconds",c)[u],h="day"===u?this.$D+(s-this.$W):s;if(u===i||u===o){var g=this.clone().set(l,1);g.$d[f](h),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[w.p(e)]()},h.add=function(e,s){var l,c=this;e=Number(e);var u=w.p(s),d=function(t){var n=y(c);return w.w(n.date(n.date()+Math.round(t*e)),c)};if(u===i)return this.set(i,this.$M+e);if(u===o)return this.set(o,this.$y+e);if("day"===u)return d(1);if(u===a)return d(7);var f=((l={})[n]=6e4,l[r]=36e5,l[t]=1e3,l)[u]||1,h=this.$d.getTime()+e*f;return w.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||c;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=w.z(this),i=this.$H,s=this.$m,o=this.$M,l=n.weekdays,u=n.months,f=n.meridiem,h=function(e,n,a,i){return e&&(e[n]||e(t,r))||a[n].slice(0,i)},g=function(e){return w.s(i%12||12,e,"0")},m=f||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(d,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return o+1;case"MM":return w.s(o+1,2,"0");case"MMM":return h(n.monthsShort,o,u,3);case"MMMM":return h(u,o);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return w.s(i,2,"0");case"h":return g(1);case"hh":return g(2);case"a":return m(i,s,!0);case"A":return m(i,s,!1);case"m":return String(s);case"mm":return w.s(s,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")})},h.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},h.diff=function(e,l,c){var u,d=this,f=w.p(l),h=y(e),g=(h.utcOffset()-this.utcOffset())*6e4,m=this-h,p=function(){return w.m(d,h)};switch(f){case o:u=p()/12;break;case i:u=p();break;case s:u=p()/3;break;case a:u=(m-g)/6048e5;break;case"day":u=(m-g)/864e5;break;case r:u=m/36e5;break;case n:u=m/6e4;break;case t:u=m/1e3;break;default:u=m}return c?u:w.a(u)},h.daysInMonth=function(){return this.endOf(i).$D},h.$locale=function(){return g[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=v(e,t,!0);return r&&(n.$L=r),n},h.clone=function(){return w.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),b=x.prototype;return y.prototype=b,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W","day"],["$M",i],["$y",o],["$D",l]].forEach(function(e){b[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e.$i||(e(t,x,y),e.$i=!0),y},y.locale=v,y.isDayjs=p,y.unix=function(e){return y(1e3*e)},y.en=g[h],y.Ls=g,y.p={},y}()},68431:(e,t,n)=>{"use strict";n.d(t,{GoogleAnalytics:()=>o});var r=n(91668),a=n(48002),i=n(94759),s=n(89112);function o(){let[e,t]=(0,s.useState)(!1),n=(0,a.usePathname)();return((0,s.useEffect)(()=>{/(staging|localhost)/.test(window.location.hostname)?(window.gtag=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.group("\uD83C\uDFAF [DEBUG] Google Analytics Event"),console.log("Type:",t[0]),console.log("Event:",t[1]),console.log("Data:",t[2]||{}),console.log("Full Args:",t),console.log("Time:",new Date().toLocaleString()),console.groupEnd()},t(/(staging3)/.test(window.location.hostname))):t(!0)},[]),(0,s.useEffect)(()=>{var t;e&&(null==(t=window)?void 0:t.gtag)&&window.gtag("config","G-6Z2G4L6M8E",{page_path:n})},[e,n]),e)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=G-6Z2G4L6M8E"}),(0,r.jsx)(i.default,{id:"gtag-init",strategy:"afterInteractive",children:"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n\n          gtag('config', 'G-6Z2G4L6M8E');\n          gtag('config', 'AW-17743331840');\n        "})]}):null}},68459:(e,t,n)=>{"use strict";n.d(t,{ExpProvider:()=>i});var r=n(91668);let a=(0,n(89112).createContext)({}),i=e=>{let{children:t,initialExpInfo:n}=e;return(0,r.jsx)(a.Provider,{value:n,children:t})}},71506:(e,t,n)=>{"use strict";n.d(t,{PushProvider:()=>h,e6:()=>g});var r=n(91668),a=n(89112),i=n(76126),s=n(82665),o=n(82243),l=n(62136),c=n(10578);let u="yw_notification_tips_key",d="yw_create_tips_key",f=(0,a.createContext)({requestPermission:()=>{},shouldShowNotificationTips:()=>!1,shouldShowCreateTips:()=>!1,handleCreateTipsAction:()=>{},handleNotificationTipsAction:()=>{},saveCreateTipsShowTime:()=>{},unsubscribe:()=>{}}),h=e=>{let{children:t}=e,{requestPermission:n,permissionState:h,unsubscribe:g}=(()=>{let[e,t]=(0,a.useState)(null),{isLoggedIn:n}=(0,i.J)(),r=(0,c.A)(()=>n),s=async()=>{let e=await l.G.requestPermission();t(e),"granted"===e&&u()},o=async()=>{let e=await l.G.permission();t(e),"granted"===e&&u()},u=async()=>{r()&&l.G.subscribe()},d=async()=>{r()&&l.G.unsubscribe()};return(0,a.useEffect)(()=>{let e;return o(),(async()=>{if("permissions"in navigator)try{let e=await navigator.permissions.query({name:"notifications"}),n=()=>{console.log("Notification permission changed:",e.state),t(e.state)};return e.addEventListener("change",n),()=>{e.removeEventListener("change",n)}}catch(e){console.log("Permissions API not supported or failed:",e)}})().then(t=>{e=t}),()=>{null==e||e()}},[n]),{permissionState:e,requestPermission:s,unsubscribe:d}})(),{isLoggedIn:m}=(0,i.J)(),{inject:p,track:v}=(0,s.s)(),y=(0,o.I)(!1,840);(0,a.useEffect)(()=>{y||p({enable_push:null!=h?h:"default"})},[h]);let w=(0,a.useCallback)(async e=>{var t,n,r,a;if(console.log("Processing foreground message in PushContext:",e),!await x(e)||await l.G.permission()!=="granted")return;let i=(null==(t=e.data)?void 0:t.title)||"YouWare New Message",s={body:(null==(n=e.data)?void 0:n.body)||"You have a new message",icon:"/images/chrome-push-icon.png",tag:"yourware-foreground",requireInteraction:!1,data:{url:(null==(r=e.data)?void 0:r.target_url)||"https://www.youware.com"}};(e=>{var t;v("browser_notification_sent",{notification_type:null!=(t=({remix:"remix",reaction:"emoji_reaction",save:"favorite",comment:"comment",task_update:"task_update",system:"official"})[e])?t:void 0})})(null==(a=e.data)?void 0:a.type);let o=new Notification(i,s);o.onclick=()=>{var t;console.log("Foreground notification clicked"),window.focus();let n=null==(t=e.data)?void 0:t.target_url;n&&(window.location.href=n),o.close()}},[]),x=(0,a.useCallback)(async e=>{var t;return!((null==(t=e.data)?void 0:t.type)!=="create"||window.location.href.includes("/editor")&&window.document.hasFocus()&&"visible"===document.visibilityState)},[]);return(0,a.useEffect)(()=>(l.G.registerMessageHandler(w),()=>{l.G.unregisterMessageHandler(w)}),[w]),(0,r.jsx)(f.Provider,{value:{shouldShowNotificationTips:()=>!y&&!(!m||null!==h&&"default"!==h||localStorage.getItem(u)),requestPermission:n,shouldShowCreateTips:()=>!y&&!!m&&(null===h||"default"===h)&&!localStorage.getItem(d),handleCreateTipsAction:e=>{let t,n=localStorage.getItem(d);t=n?JSON.parse(n):{enable:!1,last_show_time:0,already_show_count:0},"not_now"===e||"time_out"===e?(t.enable=!1,t.last_show_time=Date.now(),t.already_show_count++):"allow"===e&&(t.enable=!0,t.last_show_time=Date.now(),t.already_show_count++),localStorage.setItem(d,JSON.stringify(t))},handleNotificationTipsAction:()=>{localStorage.setItem(u,"1")},saveCreateTipsShowTime:()=>{let e,t=localStorage.getItem(d);(e=t?JSON.parse(t):{enable:!1,last_show_time:0,already_show_count:0}).last_show_timestamp=Date.now(),localStorage.setItem(d,JSON.stringify(e))},unsubscribe:g},children:t})},g=()=>(0,a.useContext)(f)},72357:()=>{},78497:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});var r=n(91668),a=n(97637),i=n(89112),s=n(21864);function o(){let[e,t]=(0,i.useState)(null),[n,o]=(0,i.useState)(!1);if((0,i.useEffect)(()=>((0,s.B)(e=>{t(e),e?setTimeout(()=>o(!0),10):o(!1)}),()=>{(0,s.B)(()=>{})}),[]),!e)return null;let{message:l,type:c="info",icon:u}=e;return(0,r.jsx)("div",{className:"fixed inset-x-0 top-0 z-100 flex justify-center",children:(0,r.jsxs)("div",{className:"typo-body flex items-center gap-2 rounded-full bg-white px-4 py-3 text-black",style:{transition:"all 300ms cubic-bezier(0, 1.18, 1, 1)",transform:"translateY(".concat(n?"4rem":"-100%",")"),opacity:+!!n,boxShadow:"0 8px 16px rgba(0, 0, 0, 0.1)"},children:[u||(e=>{switch(e){case"success":return(0,r.jsx)(a.Jnp,{className:"h-4 w-4 text-[#14AE5C]"});case"error":return(0,r.jsx)(a.sFm,{className:"h-4 w-4 text-[#ef4444]"});case"info":return(0,r.jsx)(a.CwO,{className:"h-4 w-4 text-black/95"});case"warning":return(0,r.jsx)(a._8L,{className:"h-4 w-4 text-[#f59e0b]"});default:return null}})(c),(0,r.jsx)("span",{className:"leading-5 text-black",children:l})]})})}},87851:function(e){e.exports=function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}},92879:(e,t,n)=>{"use strict";function r(){return null}n.d(t,{default:()=>r})},96342:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var r=n(89112),a=n(96015);function i(){return(0,r.useEffect)(()=>{(0,a.cQ)()},[]),null}}},e=>{e.O(0,[5782,8660,2201,6637,2661,306,2123,6263,8675,2665,6457,8153,8032,424,2045,1140,9451,6665,7358],()=>e(e.s=17123)),_N_E=e.O()}]);