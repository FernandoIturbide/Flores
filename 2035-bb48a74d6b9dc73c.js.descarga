try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d228bd7f-5406-4cc1-a8ed-f8e62400da56",e._sentryDebugIdIdentifier="sentry-dbid-d228bd7f-5406-4cc1-a8ed-f8e62400da56")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2035],{14678:(e,t,l)=>{l.d(t,{_:()=>s});let s={CREATOR_STUDIO:"/creator-studio",AFFILIATE:"/affiliate",SUBSCRIPTION:"/subscription",DOWNLOAD:"/download",LEGAL_CREATOR_TERMS_OF_SERVICES:"/legal/creator-terms-of-services",LEGAL_CREATOR_INCENTIVE_RULES:"/legal/creator-incentive-rules",LEGAL_TERMS_OF_SERVICE:"/legal/terms-of-service",LEGAL_SUBSCRIBER_TERMS:"/legal/subscriber-terms",LEGAL_PRIVACY_POLICY:"/legal/privacy-policy"}},16842:(e,t,l)=>{l.d(t,{InviteFriendProvider:()=>v,i:()=>_});var s=l(91668),i=l(89112),a=l(61432);let n=(0,a.createServerReference)("00d91935fa93c84c3118836d2f0aa99d902ad07c8d",a.callServer,void 0,a.findSourceMapURL,"fetchInviteInfo");var r=l(97637),c=l(73145),o=l(49849),d=l(29224),x=l(11996),p=l(48470),u=l(82665),f=l(46263),h=l(21864);let m=e=>{let{onClose:t}=e,{fetchInviteInfo:l,inviteInfo:a,loading:n,error:m}=_(),{subscriptionInfo:g}=(0,x.R)(),{track:v}=(0,u.s)(),{reward_credit_config:b}=(0,p.t)(),[y,w]=(0,i.useState)(!0);(0,i.useEffect)(()=>{j()},[]);let j=(0,i.useCallback)(async()=>{await l(),w(!1)},[l]),k=(0,i.useMemo)(()=>(null==a?void 0:a.invite_code)?"".concat((0,f.getOrigin)(),"/invite/").concat(a.invite_code):"",[null==a?void 0:a.invite_code]),N=e=>{e.preventDefault(),e.stopPropagation(),t()},S=async e=>{e.preventDefault(),e.stopPropagation(),v("invite_copy_link_click",{credits_num:(null==g?void 0:g.total_credits)||0,monthly_invites:(null==a?void 0:a.monthly_invited_count)||0});try{await navigator.clipboard.writeText(k),(0,h.P)({message:"Link copied to clipboard",type:"success"})}catch(e){(0,h.P)({message:"Failed to copy link, please try again",type:"error"})}},C=(()=>{var e,t,i;return y||n?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 p-4",children:(0,s.jsx)("div",{className:"relative flex h-[298px] w-[480px] max-w-[calc(100vw-32px)] flex-col items-center justify-center gap-5 rounded-[30px] bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]",children:(0,s.jsx)(o.A,{animationPath:d.S0,className:"h-20 w-20"})})}):m||(null==a?void 0:a.invite_code)===null?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 p-4",children:(0,s.jsxs)("div",{className:"relative flex h-[298px] w-[480px] max-w-[calc(100vw-32px)] flex-col items-center justify-center gap-5 rounded-[30px] bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]",children:[(0,s.jsx)("button",{onClick:N,className:"hover:bg-black/3 absolute right-3 top-3 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full p-1 transition-colors",children:(0,s.jsx)(r.Qks,{className:"h-4 w-4"})}),(0,s.jsx)("p",{className:"typo-body text-black/95",children:"Failed to get invite link"}),(0,s.jsx)("button",{onClick:l,className:"bg-brand typo-body h-9 flex-shrink-0 cursor-pointer rounded-full px-3 text-white",children:"Retry"})]})}):(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 p-4",children:(0,s.jsxs)("div",{className:"relative flex w-[480px] max-w-[calc(100vw-32px)] flex-col gap-4 rounded-[30px] bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)] sm:gap-5 sm:p-6",children:[(0,s.jsx)("button",{onClick:N,className:"hover:bg-black/3 absolute right-3 top-3 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full p-1 transition-colors sm:right-4 sm:top-4",children:(0,s.jsx)(r.Qks,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3 pt-2 text-center sm:py-3",children:[(0,s.jsx)(r.Bik,{className:"text-brand h-10 w-10 sm:h-12 sm:w-12"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h2",{className:"typo-h2",children:"Invite to get credits"}),(0,s.jsxs)("p",{className:"typo-body text-black/65",children:[(0,s.jsx)("span",{children:"Share your invitation link, get "}),(0,s.jsxs)("span",{className:"font-bold",children:[b.invite_reward," free credits"]}),(0,s.jsx)("span",{children:" for every friend who signs up."})]})]}),(0,s.jsxs)("div",{className:"typo-ex-small bg-black/3 rounded-full px-3 py-2 text-black/30",children:["Monthly invites:"," ",(0,s.jsx)("span",{children:Math.min(null!=(e=null==a?void 0:a.monthly_invited_count)?e:0,null!=(t=null==a?void 0:a.monthly_invite_limit)?t:10)}),"/",(0,s.jsx)("span",{children:null!=(i=null==a?void 0:a.monthly_invite_limit)?i:10})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("h3",{className:"typo-body-strong text-black/95",children:"Share your invitation link"}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 text-black/95 sm:flex-row sm:gap-2",children:[(0,s.jsxs)("div",{className:"border-black/6 flex h-9 min-w-0 flex-1 items-center gap-2 rounded-full border px-3",children:[(0,s.jsx)(r.Y$G,{className:"h-4 w-4 flex-shrink-0"}),(0,s.jsx)("div",{className:"typo-body min-w-0 flex-1 truncate",children:k})]}),(0,s.jsx)("button",{onClick:S,className:"bg-brand hover:bg-brand/90 typo-body-strong h-9 flex-shrink-0 cursor-pointer rounded-full px-4 text-white sm:px-3",children:"Copy link"})]})]})]})})})();return(0,c.createPortal)(C,document.body)},g=(0,i.createContext)({isModalVisible:!1,inviteInfo:null,loading:!1,error:null,showModal:()=>{},hideModal:()=>{},fetchInviteInfo:async()=>{}}),v=e=>{let{children:t}=e,[l,a]=(0,i.useState)(!1),[r,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(!1),[x,p]=(0,i.useState)(null),u=(0,i.useCallback)(async()=>{try{d(!0),p(null);let e=await n();0===e.code&&e.data?c(e.data):p(e.message||"Failed to fetch invite info")}catch(e){p(e instanceof Error?e.message:"Failed to fetch invite info")}finally{d(!1)}},[]),f=(0,i.useCallback)(async()=>{a(!0),r||await u()},[r,u]),h=(0,i.useCallback)(()=>{a(!1),p(null)},[]);return(0,s.jsxs)(g.Provider,{value:{isModalVisible:l,inviteInfo:r,loading:o,error:x,showModal:f,hideModal:h,fetchInviteInfo:u},children:[t,l&&(0,s.jsx)(m,{onClose:h})]})},_=()=>(0,i.useContext)(g)},22009:(e,t,l)=>{l.d(t,{SettingsProvider:()=>d,M:()=>x});var s=l(91668),i=l(89112),a=l(61432);let n=(0,a.createServerReference)("00daccedf5d96c2a742eb4d4844d38b2159567939c",a.callServer,void 0,a.findSourceMapURL,"fetchSettingsInfo"),r={reward_credit_config:{daily_login_reward:100,invite_reward:200,new_user_reward:500},invite_config:{monthly_invite_limit:10},model_selector_config:[],mode_suggestion_config:{fix:[],boost:[]}};var c=l(11546);let o=(0,i.createContext)({settings:r,isLoading:!1,error:null,refetchSettings:async()=>{}}),d=e=>{let{children:t,initialSettings:l}=e,[a,d]=(0,i.useState)(null!=l?l:r),[x,p]=(0,i.useState)(!1),[u,f]=(0,i.useState)(null);(0,i.useEffect)(()=>{d(null!=l?l:r)},[l]);let h=(0,i.useCallback)(async()=>{try{p(!0),f(null);let e=await n();if(0===e.code&&e.data)d({reward_credit_config:e.data.reward_credit_config,invite_config:e.data.invite_config,model_selector_config:e.data.model_selector_config,mode_suggestion_config:e.data.mode_suggestion_config}),c.Ay.trace("Settings fetched successfully",{settings:e.data});else{let t=e.message||"Failed to fetch settings";f(t),c.Ay.error("Failed to fetch settings",Error(JSON.stringify(e)))}}catch(e){f("Network error while fetching settings"),c.Ay.error("Settings fetch error",e)}finally{p(!1)}},[]);return(0,s.jsx)(o.Provider,{value:{settings:a,isLoading:x,error:u,refetchSettings:h},children:t})},x=()=>(0,i.useContext)(o)},48470:(e,t,l)=>{l.d(t,{t:()=>i});var s=l(22009);let i=()=>{let{settings:e,isLoading:t,error:l,refetchSettings:i}=(0,s.M)();return{reward_credit_config:e.reward_credit_config,invite_config:e.invite_config,model_selector_config:e.model_selector_config,settings:e,isLoading:t,error:l,refetchSettings:i,isSettingsReady:!t&&!l&&!!e}}},85706:(e,t,l)=>{l.d(t,{Y:()=>y});var s=l(91668),i=l(97637),a=l(48002),n=l(89112);let r=l.p+"static/media/backend_line_icon.a377f3a26a4eb8d4.svg";var c=l(17390),o=l(42449),d=l(95280),x=l(31333),p=l(16842),u=l(11996),f=l(76126),h=l(41284),m=l(82665),g=l(46263),v=l(99726),_=l(82642),b=l(12082);let y=e=>{let{onClickItem:t}=e,{subscriptionInfo:l,isVipUser:y}=(0,u.R)(),{showCreditsModal:w}=(0,x.I)(),{showModal:j,usage:k}=(0,d.O)(),{showModal:N}=(0,p.i)();(0,a.useRouter)();let{track:S}=(0,m.s)(),C=(0,a.usePathname)(),{user:E}=(0,f.J)(),R=(0,n.useMemo)(()=>(0,v.em)(C),[C]),{openSubscription:I}=(0,h.$)(),A=e=>{e.stopPropagation(),(null==E?void 0:E.uid)&&(S("sub_upgrade_click",{click_from:"editor"===R?"editor_menu":"avatar_hover_profile"}),I({query:R?{location:R}:void 0,baseUrl:(0,g.isComOrigin)()?void 0:"".concat((0,g.getComOrigin)(),"/subscription")})),null==t||t("subscription")};return(0,s.jsxs)("div",{className:"flex flex-col rounded-[12px] bg-black/3",children:[(0,s.jsxs)("div",{className:(0,_.cn)("flex h-10 items-center gap-2 overflow-hidden px-2.5",y?"":"mt-1"),children:[(0,s.jsx)("div",{className:"typo-large-strong flex-1 text-black/95",children:y?(0,b.$i)(l):"Free"}),y?(0,s.jsx)("div",{className:"typo-small-strong flex h-auto cursor-pointer items-center justify-center text-[#55644A] transition-opacity hover:opacity-80",onClick:A,children:"View Plans"}):(0,s.jsxs)("div",{className:"typo-small-strong flex h-7 cursor-pointer items-center justify-center gap-0.5 rounded-full bg-[#FFD15D] px-3 pl-2 text-[#A55500] transition-opacity hover:opacity-80",onClick:A,children:[(0,s.jsx)(c.a,{className:"h-3.5 w-3.5",width:14,height:14,color:"#A55500"}),(0,s.jsx)("span",{children:"Upgrade"})]})]}),(0,s.jsx)("div",{className:"my-1.5 px-2",children:(0,s.jsx)("div",{className:"h-px w-full bg-black/6"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("button",{className:"flex h-10 w-full cursor-pointer items-center gap-2 overflow-hidden rounded-[12px] px-2.5 py-3 pr-1.5 hover:bg-black/[0.06]",onClick:e=>{e.stopPropagation(),w("editor"===R?"editor_menu":"header_profile"),null==t||t("credits")},children:[(0,s.jsx)(i.Djw,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"typo-body flex-1 text-left text-black/95",children:"Credits"}),(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("span",{className:"typo-small text-black/65",children:"number"==typeof(null==l?void 0:l.total_credits)?l.total_credits.toLocaleString():""}),(0,s.jsx)(i.O9s,{className:"h-4 w-4 text-black/65"})]})]}),(0,s.jsxs)("button",{className:"flex h-10 w-full cursor-pointer items-center gap-2 overflow-hidden rounded-[12px] px-2.5 py-3 pr-1.5 hover:bg-black/[0.06]",onClick:e=>{e.stopPropagation(),j("editor"===R?o.Y.EDITOR_MENU:o.Y.HEADER_USER_MENU),null==t||t("backend")},children:[(0,s.jsx)("img",{src:r,alt:"Backend",className:"h-4 w-4"}),(0,s.jsx)("span",{className:"typo-body flex-1 text-left text-black/95",children:"Backend"}),(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("span",{className:"typo-small text-black/65",children:"".concat((null==k?void 0:k.active)||"0","/").concat((null==k?void 0:k.total)||"0")}),(0,s.jsx)(i.O9s,{className:"h-4 w-4 text-black/65"})]})]})]})]})}}}]);